(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{213:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(22),s=a.n(r),l=(a(99),a(56),a(29)),o=a(12),i=(a(34),a(17)),d=a.n(i),u=a(26),j=a(6),m=a(16),b=a.n(m),h=a(43),f=a.n(h),O=a(1);var x=function(){var e=Object(o.g)(),t=n.a.useState(!1),a=Object(j.a)(t,2),r=a[0],s=a[1],l="",i="",m="",h="",x="",p="",v=Object(c.useState)(""),g=Object(j.a)(v,2),N=g[0],y=g[1],S=function(e){f.a.isStrongPassword(e,{minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1})?y(""):y("The password in not strong enough")},w=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={email:m.value,password:x.value},c=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/login",headers:{"Content-Type":"application/json"},data:c},b()(n).then((function(e){var t=e.data;t.error?y(t.error):C(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===N&&(t.preventDefault(),a={firstName:l.value,lastName:i.value,userName:h.value,email:m.value,password:x.value,confirmpassword:p.value},c=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/register",headers:{"Content-Type":"application/json"},data:c},b()(n).then((function(e){var t=e.data;t.error&&""!==t.error?y(t.error):T(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function C(t){localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("userId",t.id),localStorage.setItem("userFirstName",t.firstName),localStorage.setItem("userLastName",t.lastName),localStorage.setItem("userName",t.userName),localStorage.setItem("userEmail",m.value),localStorage.setItem("userPassword",x.value),e.push("/")}function T(t){localStorage.clear(),e.push("/")}return Object(O.jsx)("div",{className:"container-fluid h-custom",children:Object(O.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(O.jsx)("div",{className:"col-md-8 col-lg-6 mt-3 col-xl-4 offset-xl-1",children:Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"form-group row d-flex justify-content-center",children:[Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:function(){return s(!1)},children:"Login"})}),Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:function(){return s(!0)},children:"Register"})})]}),Object(O.jsx)("div",{className:"divider d-flex align-items-center my-4 mt-0",children:Object(O.jsx)("p",{className:"text-center fw-bold mx-3 mb-4"})}),r&&Object(O.jsxs)("div",{className:"form-outline mt-0 mb-2",children:[Object(O.jsx)("input",{type:"text",autoFocus:!0,className:"form-control",placeholder:"Enter First Name",ref:function(e){return l=e}}),Object(O.jsx)("label",{className:"form-label",children:"First Name"})]}),r&&Object(O.jsxs)("div",{className:"form-outline mt-3 mb-2",children:[Object(O.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Last Name",ref:function(e){return i=e}}),Object(O.jsx)("label",{className:"form-label",children:"Last Name"})]}),r&&Object(O.jsxs)("div",{className:"form-outline mt-3 mb-2",children:[Object(O.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter User Name",ref:function(e){return h=e}}),Object(O.jsx)("label",{className:"form-label",children:"User Name"})]}),Object(O.jsxs)("div",{className:"form-outline mt-3 mb-2",children:[Object(O.jsx)("input",{type:"email",autoFocus:!0,className:"form-control form-control-lg",placeholder:"Enter a valid email address",ref:function(e){return m=e},onChange:function(e){return function(e){var t=e.target.value;f.a.isEmail(t)?y(""):y("The email is not Valid")}(e)}}),Object(O.jsx)("label",{className:"form-label",children:"Email Address"})]}),Object(O.jsxs)("div",{className:"form-outline my-3 mb-2",children:[Object(O.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Enter password",ref:function(e){return x=e},onChange:function(e){return S(e.target.value)}}),Object(O.jsx)("label",{className:"form-label",children:"Password"})]}),r&&Object(O.jsxs)("div",{className:"form-outline mt-3 mb-2",children:[Object(O.jsx)("input",{type:"password",className:"form-control",placeholder:"Confirm password",ref:function(e){return p=e},onChange:function(e){return S(e.target.value)}}),Object(O.jsx)("label",{className:"form-label",children:"Confirm password"})]}),Object(O.jsxs)("div",{className:"form-group row d-flex justify-content-center ",children:[!r&&Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:w,children:"Sign In"})}),r&&Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:k,children:"Sign In"})}),Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("button",{type:"button",className:"btn btn-dark btn-lg form-control",onClick:function(){localStorage.clear(),e.push("/")},children:"Cancel"})}),Object(O.jsx)("div",{className:"divider d-flex align-items-center my-4",children:Object(O.jsx)("p",{className:"text-center fw-bold mx-3 mb-1",children:N})})]})]})})})})},p=function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)(x,{})})};var v=function(){return Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"},children:Object(O.jsx)("h1",{children:"Rate My City"})})};a(5),a(222),a(91);var g=function(){var e=Object(o.g)(),t="",a="Login / Register",c=!1;localStorage.accessToken&&""!==localStorage.accessToken&&(t="Welcome: "+localStorage.userFirstName+" "+localStorage.userLastName,c=!0,a="Logout");var r=n.a.useState(c),s=Object(j.a)(r,2),l=s[0];return s[1],Object(O.jsxs)("div",{className:"container-fluid h-custom mt-5",children:[Object(O.jsx)("p",{children:"\xa0"}),Object(O.jsxs)("div",{className:"input-group mt-1 mb-2",children:[Object(O.jsx)("input",{className:"form-control text-left fw-bold",disabled:"disabled",placeholder:t}),Object(O.jsx)("div",{className:"input-group-append",children:Object(O.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){localStorage.accessToken&&""!==localStorage.accessToken?(t="",localStorage.clear(),window.location.reload(!1)):e.push("/login")},children:a})}),l&&Object(O.jsx)("div",{className:"input-group-append",children:Object(O.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){e.push("/Settings")},children:"Settings"})})]})]})},N=a(53);a(212);var y=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(j.a)(r,2),l=(s[0],s[1]),i=Object(c.useState)({}),d=Object(j.a)(i,2),u=d[0],m=d[1],h=Object(c.useState)({}),f=Object(j.a)(h,2),x=f[0],p=f[1],v=Object(c.useState)({}),g=Object(j.a)(v,2),y=g[0],S=g[1],w=Object(o.g)(),k=Object(c.useState)(""),C=Object(j.a)(k,2),T=C[0],I=C[1],E=Object(c.useState)(""),L=Object(j.a)(E,2),U=L[0],F=L[1],P=Object(c.useState)(""),M=Object(j.a)(P,2),A=M[0],R=M[1];function J(e,t){return!!t.selected.length||e.label.toLowerCase().indexOf(t.text.toLowerCase())>-1}Object(c.useEffect)((function(){localStorage.accessToken&&""!==localStorage.accessToken&&n(!0),localStorage.setItem("citySelected",""),localStorage.setItem("stateSelected",""),localStorage.setItem("userNameSelected",""),function(){var e={method:"get",url:"https://rate-my-city.herokuapp.com/api/listCities"};b()(e).then((function(e){var t=e.data;t.error?l(t.error):(l(t.error),m(t.map((function(e){return{label:e.name}}))))}));e={method:"get",url:"https://rate-my-city.herokuapp.com/api/listStates"};b()(e).then((function(e){var t=e.data;t.error?l(t.error):(l(t.error),p(t.map((function(e){return{label:e.state}}))))}));e={method:"get",url:"https://rate-my-city.herokuapp.com/api/listUserName"};b()(e).then((function(e){var t=e.data;t.error?l(t.error):(l(t.error),S(t.map((function(e){return{label:e.userName}}))))}))}()}),[]);var D=function(e){var t=e.isOpen,a=e.onClick;return Object(O.jsx)("button",{className:"toggle-button",onClick:a,onMouseDown:function(e){e.preventDefault()},children:t?"\u25b2":"\u25bc"})};return Object(O.jsxs)("div",{className:"input-group d-flex justify-content-center",children:[Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)(N.a,{id:"dropCity",filterBy:J,options:u,onChange:function(e){I(e[0].label)},placeholder:"Search by City ...",children:function(e){var t=e.isMenuShown,a=e.toggleMenu;return Object(O.jsx)(D,{isOpen:t,onClick:function(e){return a()}})}})}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)(N.a,{id:"dropState",filterBy:J,options:x,onChange:function(e){F(e[0].label)},placeholder:"Search by state ...",children:function(e){var t=e.isMenuShown,a=e.toggleMenu;return Object(O.jsx)(D,{isOpen:t,onClick:function(e){return a()}})}})}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)(N.a,{id:"dropUserName",filterBy:J,options:y,onChange:function(e){R(e[0].label)},placeholder:"Search by User ...",children:function(e){var t=e.isMenuShown,a=e.toggleMenu;return Object(O.jsx)(D,{isOpen:t,onClick:function(e){return a()}})}})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){localStorage.setItem("citySelected",T),localStorage.setItem("stateSelected",U),localStorage.setItem("userNameSelected",A),w.push("ShowReviews")},children:"Search"}),a&&Object(O.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){w.push("AddReview")},children:"Add Review"})]}),Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:"\xa0"})})]})},S=function(){return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(g,{}),Object(O.jsx)(v,{}),Object(O.jsx)(y,{})]})};var w=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),a=(t[0],t[1],Object(c.useState)("")),n=Object(j.a)(a,2),r=n[0],s=n[1],l=Object(c.useState)(""),i=Object(j.a)(l,2),m=i[0],h=i[1],f=Object(o.g)(),x=Object(c.useState)(""),p=Object(j.a)(x,2),v=p[0],g=p[1],N=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={name:r,state:m,country:"",jwtToken:localStorage.accessToken},c=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/createCity",headers:{"Content-Type":"application/json"},data:c},b()(n).then((function(e){var t=e.data;t.error?g(t.error):(g(""),y(t))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function y(e){localStorage.setItem("accessToken",e.jwtToken.accessToken),f.push("/")}return Object(O.jsx)("div",{className:"container-fluid h-custom mt-0",children:Object(O.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(O.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(O.jsxs)("form",{children:[Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(O.jsx)("h1",{children:"Add City"})}),Object(O.jsx)("div",{className:"divider d-flex align-items-center mt-0 my-4",children:Object(O.jsx)("p",{className:"text-center fw-bold mx-3 mb-3"})}),Object(O.jsxs)("div",{className:"form-outline mt-1 mb-2",children:[Object(O.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:r,onChange:function(e){s(e.target.value)},placeholder:"Only enter US city"}),Object(O.jsx)("label",{className:"form-label",children:"Enter City"})]}),Object(O.jsxs)("div",{className:"form-outline mb-2",children:[Object(O.jsx)("input",{type:"text",className:"form-control form-control-lg",value:m,onChange:function(e){h(e.target.value)},placeholder:"Only enter US state"}),Object(O.jsx)("label",{className:"form-label",children:"Enter State"})]}),Object(O.jsxs)("div",{className:"form-group row d-flex justify-content-center mt-4",children:[Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg align-items-center",onClick:N,children:"Add"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("button",{type:"button",className:"btn btn-dark btn-lg align-items-center",onClick:function(){f.push("/")},children:"Cancel"})}),Object(O.jsx)("div",{className:"divider d-flex align-items-center mt-1 my-4",children:Object(O.jsx)("p",{className:"text-center fw-bold mx-3 mb-5",children:v})})]})]})})})})},k=function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)(w,{})})},C=a(220),T=a(221);var I=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),a=(t[0],t[1],Object(c.useState)(localStorage.citySelected)),n=Object(j.a)(a,2),r=n[0],s=n[1],l=Object(c.useState)(localStorage.stateSelected),i=Object(j.a)(l,2),m=i[0],h=i[1],f=Object(c.useState)(""),x=Object(j.a)(f,2),p=x[0],v=x[1],g=Object(c.useState)("0"),N=Object(j.a)(g,2),y=N[0],S=N[1],w=Object(c.useState)("0"),k=Object(j.a)(w,2),I=k[0],E=k[1],L=Object(c.useState)("0"),U=Object(j.a)(L,2),F=U[0],P=U[1],M=Object(c.useState)("0"),A=Object(j.a)(M,2),R=A[0],J=A[1],D=Object(c.useState)("0"),B=Object(j.a)(D,2),V=B[0],W=B[1],q=Object(c.useState)("0"),z=Object(j.a)(q,2),G=z[0],H=z[1],K=Object(c.useState)("0"),Q=Object(j.a)(K,2),X=Q[0],Y=Q[1],Z=[{name:"1",value:"1"},{name:"2",value:"2"},{name:"3",value:"3"},{name:"4",value:"4"},{name:"5",value:"5"}],$=Object(o.g)(),_=Object(c.useState)(""),ee=Object(j.a)(_,2),te=ee[0],ae=ee[1],ce=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={name:r,state:m,country:"",jwtToken:localStorage.accessToken},c=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/createCity",headers:{"Content-Type":"application/json"},data:c},b()(n).then((function(e){var t=e.data;t.error?ae(t.error):(ae(""),localStorage.setItem("accessToken",t.jwtToken))})),a={email:localStorage.userEmail,city:r,state:m,rating:{entertainment:y,nature:I,cost:F,safety:R,culture:V,transportation:G,food:X},review:p,jwtToken:localStorage.accessToken},c=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/addRating",headers:{"Content-Type":"application/json"},data:c},b()(n).then((function(e){var t=e.data;t.error?ae(t.error):(ae(""),ne(t))}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ne(e){localStorage.setItem("accessToken",e.jwtToken.accessToken),$.push("/")}return Object(O.jsx)("div",{className:"container-fluid h-custom mt-0",children:Object(O.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(O.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(O.jsxs)("form",{children:[Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(O.jsx)("h1",{children:"Add Review / City"})}),Object(O.jsx)("div",{className:"divider d-flex align-items-center mt-0 my-4",children:Object(O.jsx)("p",{className:"text-center fw-bold mx-3 mb-3"})}),Object(O.jsxs)("div",{className:"form-outline mt-1 mb-2",children:[localStorage.citySelected?Object(O.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:r,onChange:function(e){s(e.target.value)},placeholder:"Only enter US city",readOnly:!0}):Object(O.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:r,onChange:function(e){s(e.target.value)},placeholder:"Only enter US city"}),Object(O.jsx)("label",{className:"form-label",children:"Enter City"})]}),Object(O.jsxs)("div",{className:"form-outline mb-2",children:[localStorage.stateSelected?Object(O.jsx)("input",{type:"text",className:"form-control form-control-lg",value:m,onChange:function(e){h(e.target.value)},placeholder:"Only enter US state",readOnly:!0}):Object(O.jsx)("input",{type:"text",className:"form-control form-control-lg",value:m,onChange:function(e){h(e.target.value)},placeholder:"Only enter US state"}),Object(O.jsx)("label",{className:"form-label",children:"Enter State"})]}),Object(O.jsxs)("div",{className:"form-outline mb-3",children:[Object(O.jsx)("input",{type:"text",className:"form-control form-control-lg",value:p,onChange:function(e){v(e.target.value)},placeholder:"Enter your review"}),Object(O.jsx)("label",{className:"form-label",children:"Enter Comment.  (Max. 250 characters)"})]}),Object(O.jsx)("div",{className:"div-table",children:Object(O.jsxs)("table",{className:"inline-table",children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Entertainment:\xa0"}),Object(O.jsx)("td",{children:Object(O.jsx)(C.a,{children:Z.map((function(e,t){return Object(O.jsx)(T.a,{id:"radio1-".concat(t),type:"radio",variant:"outline-secondary secondary text-dark ",name:"radio1",value:e.value,checked:y===e.value,onChange:function(e){return S(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Nature :"}),Object(O.jsx)("td",{children:Object(O.jsx)(C.a,{children:Z.map((function(e,t){return Object(O.jsx)(T.a,{id:"radio2-".concat(t),type:"radio",variant:"outline-secondary secondary text-dark",name:"radio2",value:e.value,checked:I===e.value,onChange:function(e){return E(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Cost :"}),Object(O.jsx)("td",{children:Object(O.jsx)(C.a,{children:Z.map((function(e,t){return Object(O.jsx)(T.a,{id:"radio3-".concat(t),type:"radio",variant:"outline-secondary secondary text-dark",name:"radio3",value:e.value,checked:F===e.value,onChange:function(e){return P(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Safety :"}),Object(O.jsx)("td",{children:Object(O.jsx)(C.a,{children:Z.map((function(e,t){return Object(O.jsx)(T.a,{id:"radio4-".concat(t),type:"radio",variant:"outline-secondary secondary text-dark",name:"radio4",value:e.value,checked:R===e.value,onChange:function(e){return J(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Culture :"}),Object(O.jsx)("td",{children:Object(O.jsx)(C.a,{children:Z.map((function(e,t){return Object(O.jsx)(T.a,{id:"radio5-".concat(t),type:"radio",variant:"outline-secondary secondary text-dark",name:"radio5",value:e.value,checked:V===e.value,onChange:function(e){return W(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Transportation:\xa0\xa0\xa0 "}),Object(O.jsx)("td",{children:Object(O.jsx)(C.a,{children:Z.map((function(e,t){return Object(O.jsx)(T.a,{id:"radio6-".concat(t),type:"radio",variant:"outline-secondary secondary text-dark",name:"radio6",value:e.value,checked:G===e.value,onChange:function(e){return H(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Food: "}),Object(O.jsx)("td",{children:Object(O.jsx)(C.a,{children:Z.map((function(e,t){return Object(O.jsx)(T.a,{id:"radio7-".concat(t),type:"radio",variant:"outline-secondary secondary text-dark",name:"radio7",value:e.value,checked:X===e.value,onChange:function(e){return Y(e.currentTarget.value)},children:e.name},t)}))})})]})]})}),Object(O.jsxs)("div",{className:"form-group row d-flex justify-content-center mt-4",children:[Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg align-items-center",onClick:ce,children:"Add"})}),Object(O.jsx)("div",{className:"col-md-3",children:Object(O.jsx)("button",{type:"button",className:"btn btn-dark btn-lg align-items-center",onClick:function(){$.push("/")},children:"Cancel"})}),Object(O.jsx)("div",{className:"divider d-flex align-items-center mt-1 my-4",children:Object(O.jsx)("p",{className:"text-center fw-bold mx-3 mb-5",children:te})})]})]})})})})},E=function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)(I,{})})};var L=function(){var e=Object(o.g)(),t=Object(c.useState)(""),a=Object(j.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(localStorage.userFirstName),l=Object(j.a)(s,2),i=l[0],m=l[1],h=Object(c.useState)(localStorage.userLastName),x=Object(j.a)(h,2),p=x[0],v=x[1],g=Object(c.useState)(localStorage.userName),N=Object(j.a)(g,2),y=N[0],S=N[1],w=Object(c.useState)(localStorage.userEmail),k=Object(j.a)(w,2),C=k[0],T=(k[1],Object(c.useState)(localStorage.userPassword)),I=Object(j.a)(T,2),E=I[0],L=I[1],U=Object(c.useState)(localStorage.userPassword),F=Object(j.a)(U,2),P=F[0],M=F[1],A=Object(c.useState)(localStorage.userPassword),R=Object(j.a)(A,2),J=R[0],D=R[1],B=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={userId:localStorage.userId,firstName:i,lastName:p,userName:y,email:C,password:P,confirmpassword:J,jwtToken:localStorage.accessToken},c=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/settings",headers:{"Content-Type":"application/json"},data:c},b()(n).then((function(e){var t=e.data;t.error&&""!==t.error?r(t.error):(r(""),V(t))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function V(t){localStorage.setItem("accessToken",t.jwtToken.accessToken),localStorage.setItem("userId",t.id),localStorage.setItem("userFirstName",t.firstName),localStorage.setItem("userLastName",t.lastName),localStorage.setItem("userName",t.userName),localStorage.setItem("userEmail",t.email),localStorage.setItem("userPassword",P.value),e.push("/")}return Object(O.jsx)("div",{className:"container-fluid h-custom",children:Object(O.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(O.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(O.jsxs)("form",{children:[Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(O.jsx)("h1",{children:"Settings"})}),Object(O.jsxs)("div",{className:"form-outline mt-4 mb-2",children:[Object(O.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:i,onChange:function(e){m(e.target.value)},placeholder:"Enter First Name"}),Object(O.jsx)("label",{className:"form-label",children:"First Name"})]}),Object(O.jsxs)("div",{className:"form-outline mb-2",children:[Object(O.jsx)("input",{type:"text",className:"form-control form-control-lg",value:p,onChange:function(e){v(e.target.value)},placeholder:"Enter Last Name"}),Object(O.jsx)("label",{className:"form-label",children:"Last Name"})]}),Object(O.jsxs)("div",{className:"form-outline mb-2",children:[Object(O.jsx)("input",{type:"text",className:"form-control form-control-lg",value:y,onChange:function(e){S(e.target.value)},placeholder:"Enter User Name"}),Object(O.jsx)("label",{className:"form-label",children:"Username"})]}),Object(O.jsxs)("div",{className:"form-outline mb-2",children:[Object(O.jsx)("input",{type:"password",className:"form-control form-control-lg",value:E,onChange:function(e){L(function(e){f.a.isStrongPassword(e,{minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1})?r(""):r("The password in not strong enough")}(e.target.value))},placeholder:"Enter Old Password"}),Object(O.jsx)("label",{className:"form-label",children:"Old Password"})]}),Object(O.jsxs)("div",{className:"form-outline mb-2",children:[Object(O.jsx)("input",{type:"password",className:"form-control form-control-lg",value:P,onChange:function(e){M(e.target.value)},placeholder:"Enter New Password"}),Object(O.jsx)("label",{className:"form-label",children:"New Password"})]}),Object(O.jsxs)("div",{className:"form-outline mb-3",children:[Object(O.jsx)("input",{type:"password",className:"form-control form-control-lg",value:J,onChange:function(e){D(e.target.value)},placeholder:"Confirm password"}),Object(O.jsx)("label",{className:"form-label",children:"Confirm Password"})]}),Object(O.jsxs)("div",{className:"form-group row d-flex justify-content-center ",children:[Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg form-control",onClick:B,children:"Update"})}),Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)("button",{type:"button",className:"btn btn-dark btn-lg form-control",onClick:function(){e.push("/")},children:"Cancel"})}),Object(O.jsx)("div",{className:"divider d-flex align-items-center my-4",children:Object(O.jsx)("p",{className:"text-center fw-bold mx-3 mb-1",children:n})})]})]})})})})},U=function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)(L,{})})};var F=function(){return Object(O.jsx)(l.a,{children:Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{path:"/",exact:!0,children:Object(O.jsx)(S,{})}),Object(O.jsx)(o.b,{path:"/login",exact:!0,children:Object(O.jsx)(p,{})}),Object(O.jsx)(o.b,{path:"/AddCity",exact:!0,children:Object(O.jsx)(k,{})}),Object(O.jsx)(o.b,{path:"/AddReview",exact:!0,children:Object(O.jsx)(E,{})}),Object(O.jsx)(o.b,{path:"/Settings",exact:!0,children:Object(O.jsx)(U,{})}),Object(O.jsx)(o.a,{to:"/"})]})})};s.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(F,{})}),document.getElementById("root"))},34:function(e,t,a){},99:function(e,t,a){}},[[213,1,2]]]);
//# sourceMappingURL=main.3861fc1c.chunk.js.map