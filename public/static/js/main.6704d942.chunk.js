(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{119:function(e,t,a){},242:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(22),s=a.n(r),l=(a(119),a(53),a(25)),i=a(12),o=(a(30),a(15)),d=a.n(o),j=a(23),u=a(4),b=a(14),m=a.n(b),h=a(49),O=a.n(h),x=a(0);var f=function(){var e=Object(i.g)(),t=n.a.useState(!1),a=Object(u.a)(t,2),r=a[0],s=a[1],l="",o="",b="",h="",f="",v="",p=Object(c.useState)(""),g=Object(u.a)(p,2),N=g[0],y=g[1],w=function(e){O.a.isStrongPassword(e,{minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1})?y(""):y("The password in not strong enough")},S=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={email:b.value,password:f.value},c=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/login",headers:{"Content-Type":"application/json"},data:c},m()(n).then((function(e){var t=e.data;t.error?y(t.error):C(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===N&&(t.preventDefault(),a={firstName:l.value,lastName:o.value,userName:h.value,email:b.value,password:f.value,confirmpassword:v.value},c=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/register",headers:{"Content-Type":"application/json"},data:c},m()(n).then((function(e){var t=e.data;t.error&&""!==t.error?y(t.error):T(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function C(t){localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("userId",t.id),localStorage.setItem("userFirstName",t.firstName),localStorage.setItem("userLastName",t.lastName),localStorage.setItem("userName",t.userName),localStorage.setItem("userEmail",b.value),localStorage.setItem("userPassword",f.value),e.push("/")}function T(t){localStorage.clear(),e.push("/")}return Object(x.jsx)("div",{className:"container-fluid h-custom",children:Object(x.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(x.jsx)("div",{className:"col-md-8 col-lg-6 mt-3 col-xl-4 offset-xl-1",children:Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"form-group row d-flex justify-content-center",children:[Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:function(){return s(!1)},children:"Login"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:function(){return s(!0)},children:"Register"})})]}),Object(x.jsx)("div",{className:"divider d-flex align-items-center my-4 mt-0",children:Object(x.jsx)("p",{className:"text-center fw-bold mx-3 mb-4"})}),r&&Object(x.jsxs)("div",{className:"form-outline mt-0 mb-2",children:[Object(x.jsx)("input",{type:"text",autoFocus:!0,className:"form-control",placeholder:"Enter First Name",ref:function(e){return l=e}}),Object(x.jsx)("label",{className:"form-label",children:"First Name"})]}),r&&Object(x.jsxs)("div",{className:"form-outline mt-3 mb-2",children:[Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Last Name",ref:function(e){return o=e}}),Object(x.jsx)("label",{className:"form-label",children:"Last Name"})]}),r&&Object(x.jsxs)("div",{className:"form-outline mt-3 mb-2",children:[Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter User Name",ref:function(e){return h=e}}),Object(x.jsx)("label",{className:"form-label",children:"User Name"})]}),Object(x.jsxs)("div",{className:"form-outline mt-3 mb-2",children:[Object(x.jsx)("input",{type:"email",autoFocus:!0,className:"form-control form-control-lg",placeholder:"Enter a valid email address",ref:function(e){return b=e},onChange:function(e){return function(e){var t=e.target.value;O.a.isEmail(t)?y(""):y("The email is not Valid")}(e)}}),Object(x.jsx)("label",{className:"form-label",children:"Email Address"})]}),Object(x.jsxs)("div",{className:"form-outline my-3 mb-2",children:[Object(x.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Enter password",ref:function(e){return f=e},onChange:function(e){return w(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",children:"Password"})]}),r&&Object(x.jsxs)("div",{className:"form-outline mt-3 mb-2",children:[Object(x.jsx)("input",{type:"password",className:"form-control",placeholder:"Confirm password",ref:function(e){return v=e},onChange:function(e){return w(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",children:"Confirm password"})]}),Object(x.jsxs)("div",{className:"form-group row d-flex justify-content-center ",children:[!r&&Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:S,children:"Sign In"})}),r&&Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:k,children:"Sign In"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)("button",{type:"button",className:"btn btn-dark btn-lg fw-bold form-control",onClick:function(){localStorage.clear(),e.push("/")},children:"Cancel"})})]}),!r&&Object(x.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-4",children:Object(x.jsx)("a",{className:"link-line",href:"#",onClick:function(){window.location.href="https://ibm.com"},children:"Forgot Password ?"})}),Object(x.jsx)("div",{className:"divider d-flex align-items-center my-4",children:Object(x.jsx)("p",{className:"text-center fw-bold mx-3 mb-1",children:N})})]})})})})},v=function(){return Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(f,{})})};var p=function(){return Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"},children:Object(x.jsx)("h1",{children:"Rate My City"})})};a(6),a(251),a(111);var g=function(){var e=Object(i.g)(),t="",a="Login / Register",c=!1;localStorage.accessToken&&""!==localStorage.accessToken&&(t="Welcome: "+localStorage.userFirstName+" "+localStorage.userLastName,c=!0,a="Logout");var r=n.a.useState(c),s=Object(u.a)(r,2),l=s[0];return s[1],Object(x.jsxs)("div",{className:"container-fluid h-custom mt-5",children:[Object(x.jsx)("p",{children:"\xa0"}),Object(x.jsxs)("div",{className:"input-group mt-1 mb-2",children:[Object(x.jsx)("input",{className:"form-control text-left fw-bold",disabled:"disabled",placeholder:t}),Object(x.jsx)("div",{className:"input-group-append",children:Object(x.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){localStorage.accessToken&&""!==localStorage.accessToken?(t="",localStorage.clear(),window.location.reload(!1)):e.push("/login")},children:a})}),l&&Object(x.jsx)("div",{className:"input-group-append",children:Object(x.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){e.push("/Settings")},children:"Settings"})})]})]})},N=a(62);a(94);var y=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(u.a)(r,2),l=(s[0],s[1]),o=Object(c.useState)({}),d=Object(u.a)(o,2),j=d[0],b=d[1],h=Object(c.useState)({}),O=Object(u.a)(h,2),f=O[0],v=O[1],p=Object(c.useState)({}),g=Object(u.a)(p,2),y=g[0],w=g[1],S=Object(i.g)(),k=Object(c.useState)(""),C=Object(u.a)(k,2),T=C[0],I=C[1],R=Object(c.useState)(""),F=Object(u.a)(R,2),E=F[0],U=F[1],A=Object(c.useState)(""),L=Object(u.a)(A,2),M=L[0],P=L[1];function D(e,t){return!!t.selected.length||e.label.toLowerCase().indexOf(t.text.toLowerCase())>-1}Object(c.useEffect)((function(){localStorage.accessToken&&""!==localStorage.accessToken&&n(!0),localStorage.setItem("citySelected",""),localStorage.setItem("stateSelected",""),localStorage.setItem("userNameSelected",""),function(){var e={method:"get",url:"https://rate-my-city.herokuapp.com/api/listCities"};m()(e).then((function(e){var t=e.data;t.error?l(t.error):(l(t.error),b(t.map((function(e){return{label:e.name}}))))}));e={method:"get",url:"https://rate-my-city.herokuapp.com/api/listStates"};m()(e).then((function(e){var t=e.data;t.error?l(t.error):(l(t.error),v(t.map((function(e){return{label:e.state}}))))}));e={method:"get",url:"https://rate-my-city.herokuapp.com/api/listUserName"};m()(e).then((function(e){var t=e.data;t.error?l(t.error):(l(t.error),w(t.map((function(e){return{label:e.userName}}))))}))}()}),[]);var J=function(e){var t=e.isOpen,a=e.onClick;return Object(x.jsx)("button",{className:"toggle-button",onClick:a,onMouseDown:function(e){e.preventDefault()},children:t?"\u25b2":"\u25bc"})};return Object(x.jsxs)("div",{className:"input-group d-flex justify-content-center",children:[Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)(N.a,{id:"dropCity",filterBy:D,options:j,onChange:function(e){I(e[0].label)},placeholder:"Search by City ...",children:function(e){var t=e.isMenuShown,a=e.toggleMenu;return Object(x.jsx)(J,{isOpen:t,onClick:function(e){return a()}})}})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)(N.a,{id:"dropState",filterBy:D,options:f,onChange:function(e){U(e[0].label)},placeholder:"Search by state ...",children:function(e){var t=e.isMenuShown,a=e.toggleMenu;return Object(x.jsx)(J,{isOpen:t,onClick:function(e){return a()}})}})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)(N.a,{id:"dropUserName",filterBy:D,options:y,onChange:function(e){P(e[0].label)},placeholder:"Search by User ...",children:function(e){var t=e.isMenuShown,a=e.toggleMenu;return Object(x.jsx)(J,{isOpen:t,onClick:function(e){return a()}})}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){localStorage.setItem("citySelected",T),localStorage.setItem("stateSelected",E),localStorage.setItem("userNameSelected",M),S.push("ShowReviews")},children:"Search"}),a&&Object(x.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){localStorage.setItem("cityReview",""),localStorage.setItem("stateReview",""),S.push("AddCity")},children:"Add City"})]}),Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:"\xa0"})})]})},w=a(37),S=a(38),k=a(51),C=a(61),T=a(60),I=(a(232),a(110)),R=a.n(I),F=function(e){Object(C.a)(a,e);var t=Object(T.a)(a);function a(e){var c;return Object(w.a)(this,a),(c=t.call(this,e)).state={reviews:[],message:"",showOptions:!!localStorage.accessToken},c.routerChange=c.routerChange.bind(Object(k.a)(c)),c.deleteReview=c.deleteReview.bind(Object(k.a)(c)),c}return Object(S.a)(a,[{key:"routerChange",value:function(e,t){localStorage.setItem("cityReview",e),localStorage.setItem("stateReview",t),this.props.history.push("/AddReview")}},{key:"deleteReview",value:function(e,t){var a=this;window.confirm("Are you sure you want to delete this review?")&&(this.obj={email:localStorage.userEmail,city:e,jwtToken:localStorage.accessToken},this.js=JSON.stringify(this.obj),this.config={method:"post",url:"https://rate-my-city.herokuapp.com/api/delete",headers:{"Content-Type":"application/json"},data:this.js},m()(this.config).then((function(e){var t=e.data;t.error?a.setState({message:t.error}):(a.setState({message:""}),localStorage.accessToken=t.jwtToken.accessToken,window.location.reload(!1))})))}},{key:"editReview",value:function(e,t,a,c){localStorage.setItem("cityReview",e),localStorage.setItem("stateReview",t),localStorage.setItem("commentReview",a),localStorage.setItem("ratingsReview",c),this.props.history.push("/EditReview")}},{key:"componentDidMount",value:function(){var e=this;this.axiosUrl="https://rate-my-city.herokuapp.com/api/",localStorage.userNameSelected?this.axiosUrl+="searchUsername":this.axiosUrl+="searchCityState",this.obj={city:localStorage.citySelected,state:localStorage.stateSelected,userName:localStorage.userNameSelected},this.js=JSON.stringify(this.obj),this.config={method:"post",url:this.axiosUrl,headers:{"Content-Type":"application/json"},data:this.js},m()(this.config).then((function(t){var a=t.data;a.error?e.setState({message:a.error}):e.setState({message:"",reviews:a})}))}},{key:"render",value:function(){var e=this,t=this.state.reviews,a=this.state.showOptions;return Object(x.jsx)("body",{children:Object(x.jsx)("div",{className:"container input-group justify-content-center",children:Object(x.jsx)("table",{className:"master-table",children:t.map((function(t){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"city-separator",children:[Object(x.jsx)("td",{children:Object(x.jsxs)("span",{className:"city-state",children:[t._id,", \xa0\xa0 ",t.state]})}),a&&Object(x.jsx)("td",{children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("button",{className:"btn fw-bold btn-secondary button-right",onClick:function(){return e.routerChange(t._id,t.state)},type:"button",children:"Add Review"})})})]}),Object(x.jsx)("div",{className:"row justify-content-center",children:Object(x.jsx)("div",{className:"",children:Object(x.jsx)("table",{className:"table table-responsive mb-1 mt-0",children:Object(x.jsxs)("tr",{className:"rating-avg",children:[Object(x.jsx)("td",{children:"Cost:"}),Object(x.jsx)("td",{children:parseFloat(t.averageCost).toFixed(1)}),Object(x.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(x.jsx)("td",{children:"Nature:"}),Object(x.jsx)("td",{children:parseFloat(t.averageNature).toFixed(1)}),Object(x.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(x.jsx)("td",{children:"Culture:"}),Object(x.jsx)("td",{children:parseFloat(t.averageCulture).toFixed(1)}),Object(x.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(x.jsx)("td",{children:"Safety:"}),Object(x.jsx)("td",{children:parseFloat(t.averageSafety).toFixed(1)}),Object(x.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(x.jsx)("td",{children:"Entertaiment:"}),Object(x.jsx)("td",{children:parseFloat(t.averageEntertainment).toFixed(1)}),Object(x.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(x.jsx)("td",{children:"Transportation:"}),Object(x.jsx)("td",{children:parseFloat(t.averageTransportation).toFixed(1)}),Object(x.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(x.jsx)("td",{children:"Food:"}),Object(x.jsx)("td",{children:parseFloat(t.averageFood).toFixed(1)})]})})})}),Object(x.jsx)("div",{children:t.ratings.map((function(e,a){var c=this;return Object(x.jsxs)("form",{className:"box",children:[Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"line-delete",children:[Object(x.jsxs)("span",{className:"user",children:[Object(x.jsxs)("span",{className:"usr-name",children:[Object(x.jsx)("u",{children:e.userdetails.userName}),"\xa0\xa0"]}),Object(x.jsxs)("span",{className:"time-stamp",children:["wrote in ",R()(e.time).format("MM-DD-YYYY @ hh:mm A"),":"]})]}),e.userdetails.userName===localStorage.userName&&Object(x.jsx)("div",{children:Object(x.jsxs)("span",{className:"action",children:[Object(x.jsx)("button",{className:"delete-button",onClick:function(){return c.editReview(t._id,t.state,e.description,JSON.stringify(e.rating))},type:"button",children:"Edit"}),"\xa0",Object(x.jsx)("button",{className:"delete-button",onClick:function(){return c.deleteReview(t._id,t.state)},type:"button",children:"Delete"})]})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:"\xa0"})}),Object(x.jsx)("p",{className:"rate-comment",children:e.description})]})]})}),Object(x.jsx)("div",{className:"row justify-content-center",children:Object(x.jsx)("div",{className:"",children:Object(x.jsx)("table",{className:"table table-responsive mb-1 mt-0",children:Object(x.jsxs)("tr",{className:"rating-avg2",children:[Object(x.jsx)("td",{children:"Cost:"}),Object(x.jsx)("td",{children:parseFloat(e.rating.cost).toFixed(1)}),Object(x.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(x.jsx)("td",{children:"Nature:"}),Object(x.jsx)("td",{children:parseFloat(e.rating.nature).toFixed(1)}),Object(x.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(x.jsx)("td",{children:"Culture:"}),Object(x.jsx)("td",{children:parseFloat(e.rating.culture).toFixed(1)}),Object(x.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(x.jsx)("td",{children:"Safety:"}),Object(x.jsx)("td",{children:parseFloat(e.rating.safety).toFixed(1)}),Object(x.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(x.jsx)("td",{children:"Entertaiment:"}),Object(x.jsx)("td",{children:parseFloat(e.rating.entertainment).toFixed(1)}),Object(x.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(x.jsx)("td",{children:"Transportation:"}),Object(x.jsx)("td",{children:parseFloat(e.rating.transportation).toFixed(1)}),Object(x.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(x.jsx)("td",{children:"Food:"}),Object(x.jsx)("td",{children:parseFloat(e.rating.food).toFixed(1)})]})})})})]},a)}),e)})]})}),this)})})})}}]),a}(c.Component),E=Object(i.h)(F),U=function(){return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(g,{}),Object(x.jsx)(p,{}),Object(x.jsx)(y,{}),Object(x.jsx)(E,{})]})};var A=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),a=(t[0],t[1],Object(c.useState)("")),n=Object(u.a)(a,2),r=n[0],s=n[1],l=Object(c.useState)(""),o=Object(u.a)(l,2),b=o[0],h=o[1],O=Object(i.g)(),f=Object(c.useState)(""),v=Object(u.a)(f,2),p=v[0],g=v[1],N=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={name:r,state:b,country:"USA",jwtToken:localStorage.accessToken},c=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/createCity",headers:{"Content-Type":"application/json"},data:c},m()(n).then((function(e){var t=e.data;t.error?g(t.error):(g(""),y(t))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function y(e){localStorage.setItem("accessToken",e.jwtToken.accessToken),O.push("/")}return Object(x.jsx)("div",{className:"container-fluid h-custom mt-0",children:Object(x.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(x.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(x.jsx)("h1",{children:"Add City"})}),Object(x.jsx)("div",{className:"divider d-flex align-items-center mt-0 my-4",children:Object(x.jsx)("p",{className:"text-center fw-bold mx-3 mb-3"})}),Object(x.jsxs)("div",{className:"form-outline mt-1 mb-2",children:[Object(x.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:r,onChange:function(e){s(e.target.value)},placeholder:"Only enter US city"}),Object(x.jsx)("label",{className:"form-label",children:"Enter City"})]}),Object(x.jsxs)("div",{className:"form-outline mb-2",children:[Object(x.jsx)("input",{type:"text",className:"form-control form-control-lg",value:b,onChange:function(e){h(e.target.value)},placeholder:"Only enter US state"}),Object(x.jsx)("label",{className:"form-label",children:"Enter State"})]}),Object(x.jsxs)("div",{className:"form-group row d-flex justify-content-center mt-4",children:[Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg align-items-center",onClick:N,children:"Add"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)("button",{type:"button",className:"btn btn-dark btn-lg align-items-center",onClick:function(){O.push("/")},children:"Cancel"})}),Object(x.jsx)("div",{className:"divider d-flex align-items-center mt-1 my-4",children:Object(x.jsx)("p",{className:"text-center fw-bold mx-3 mb-5",children:p})})]})]})})})})},L=function(){return Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(A,{})})},M=a(249),P=a(250);var D=function(){var e=Object(c.useState)(localStorage.cityReview?"Add Review":"Add City"),t=Object(u.a)(e,2),a=t[0],n=(t[1],Object(c.useState)(!1)),r=Object(u.a)(n,2),s=(r[0],r[1],Object(c.useState)(localStorage.cityReview)),l=Object(u.a)(s,2),o=l[0],b=l[1],h=Object(c.useState)(localStorage.stateReview),O=Object(u.a)(h,2),f=O[0],v=O[1],p=Object(c.useState)(""),g=Object(u.a)(p,2),N=g[0],y=g[1],w=Object(c.useState)("0"),S=Object(u.a)(w,2),k=S[0],C=S[1],T=Object(c.useState)("0"),I=Object(u.a)(T,2),R=I[0],F=I[1],E=Object(c.useState)("0"),U=Object(u.a)(E,2),A=U[0],L=U[1],D=Object(c.useState)("0"),J=Object(u.a)(D,2),B=J[0],Y=J[1],_=Object(c.useState)("0"),V=Object(u.a)(_,2),W=V[0],q=V[1],z=Object(c.useState)("0"),G=Object(u.a)(z,2),H=G[0],K=G[1],Q=Object(c.useState)("0"),X=Object(u.a)(Q,2),Z=X[0],$=X[1],ee=[{name:"1",value:"1"},{name:"2",value:"2"},{name:"3",value:"3"},{name:"4",value:"4"},{name:"5",value:"5"}],te=Object(i.g)(),ae=Object(c.useState)(""),ce=Object(u.a)(ae,2),ne=ce[0],re=ce[1],se=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={userid:localStorage.userId,email:localStorage.userEmail,city:o,state:f,rating:{entertainment:k,nature:R,cost:A,safety:B,culture:W,transportation:H,food:Z},review:N,jwtToken:localStorage.accessToken},c=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/addRating",headers:{"Content-Type":"application/json"},data:c},m()(n).then((function(e){var t=e.data;t.error?re(t.error):(re(""),le(t))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function le(e){localStorage.setItem("accessToken",e.jwtToken.accessToken),localStorage.setItem("cityReview",""),localStorage.setItem("stateReview",""),te.push("/")}return Object(x.jsx)("div",{className:"container-fluid h-custom mt-0",children:Object(x.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(x.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(x.jsx)("h1",{children:a})}),Object(x.jsx)("div",{className:"divider d-flex align-items-center mt-0 my-4",children:Object(x.jsx)("p",{className:"text-center fw-bold mx-3 mb-3"})}),Object(x.jsxs)("div",{className:"form-outline mt-1 mb-2",children:[localStorage.cityReview?Object(x.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:o,onChange:function(e){b(e.target.value)},placeholder:"Only enter US city",readOnly:!0}):Object(x.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:o,onChange:function(e){b(e.target.value)},placeholder:"Only enter US city"}),Object(x.jsx)("label",{className:"form-label",children:"Enter City"})]}),Object(x.jsxs)("div",{className:"form-outline mb-2",children:[localStorage.cityReview?Object(x.jsx)("input",{type:"text",className:"form-control form-control-lg",value:f,onChange:function(e){v(e.target.value)},placeholder:"Only enter US state",readOnly:!0}):Object(x.jsx)("input",{type:"text",className:"form-control form-control-lg",value:f,onChange:function(e){v(e.target.value)},placeholder:"Only enter US state"}),Object(x.jsx)("label",{className:"form-label",children:"Enter State"})]}),Object(x.jsxs)("div",{className:"form-outline mb-3",children:[Object(x.jsx)("input",{type:"text",className:"form-control form-control-lg",value:N,onChange:function(e){y(e.target.value)},placeholder:"Enter your review"}),Object(x.jsx)("label",{className:"form-label",children:"Enter Comment.  (Max. 250 characters)"})]}),Object(x.jsx)("div",{className:"div-table",children:Object(x.jsxs)("table",{className:"inline-table",children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Entertainment:\xa0"}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio1-".concat(t),type:"radio",variant:"outline-warning warning text-dark ",name:"radio1",value:e.value,checked:k===e.value,onChange:function(e){return C(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Nature :"}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio2-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio2",value:e.value,checked:R===e.value,onChange:function(e){return F(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Cost :"}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio3-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio3",value:e.value,checked:A===e.value,onChange:function(e){return L(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Safety :"}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio4-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio4",value:e.value,checked:B===e.value,onChange:function(e){return Y(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Culture :"}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio5-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio5",value:e.value,checked:W===e.value,onChange:function(e){return q(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Transportation:\xa0\xa0\xa0 "}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio6-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio6",value:e.value,checked:H===e.value,onChange:function(e){return K(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Food: "}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio7-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio7",value:e.value,checked:Z===e.value,onChange:function(e){return $(e.currentTarget.value)},children:e.name},t)}))})})]})]})}),Object(x.jsxs)("div",{className:"form-group row d-flex justify-content-center mt-4",children:[Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg align-items-center",onClick:se,children:"Add"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)("button",{type:"button",className:"btn btn-dark btn-lg align-items-center",onClick:function(){localStorage.setItem("cityReview",""),localStorage.setItem("stateReview",""),te.push("/")},children:"Cancel"})}),Object(x.jsx)("div",{className:"divider d-flex align-items-center mt-1 my-4",children:Object(x.jsx)("p",{className:"text-center fw-bold mx-3 mb-5",children:ne})})]})]})})})})},J=function(){return Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(D,{})})};var B=function(){var e=Object(i.g)(),t=Object(c.useState)(""),a=Object(u.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(localStorage.userFirstName),l=Object(u.a)(s,2),o=l[0],b=l[1],h=Object(c.useState)(localStorage.userLastName),f=Object(u.a)(h,2),v=f[0],p=f[1],g=Object(c.useState)(localStorage.userName),N=Object(u.a)(g,2),y=N[0],w=N[1],S=Object(c.useState)(localStorage.userEmail),k=Object(u.a)(S,2),C=k[0],T=(k[1],Object(c.useState)(localStorage.userPassword)),I=Object(u.a)(T,2),R=I[0],F=I[1],E=Object(c.useState)(localStorage.userPassword),U=Object(u.a)(E,2),A=U[0],L=U[1],M=Object(c.useState)(localStorage.userPassword),P=Object(u.a)(M,2),D=P[0],J=P[1],B=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={userId:localStorage.userId,firstName:o,lastName:v,userName:y,email:C,password:A,confirmpassword:D,jwtToken:localStorage.accessToken},c=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/settings",headers:{"Content-Type":"application/json"},data:c},m()(n).then((function(e){var t=e.data;t.error&&""!==t.error?r(t.error):(r(""),Y(t))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Y(t){localStorage.setItem("accessToken",t.jwtToken.accessToken),localStorage.setItem("userId",t.id),localStorage.setItem("userFirstName",t.firstName),localStorage.setItem("userLastName",t.lastName),localStorage.setItem("userName",t.userName),localStorage.setItem("userEmail",t.email),localStorage.setItem("userPassword",A),e.push("/")}return Object(x.jsx)("div",{className:"container-fluid h-custom",children:Object(x.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(x.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(x.jsx)("h1",{children:"Settings"})}),Object(x.jsxs)("div",{className:"form-outline mt-4 mb-2",children:[Object(x.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:o,onChange:function(e){b(e.target.value)},placeholder:"Enter First Name"}),Object(x.jsx)("label",{className:"form-label",children:"First Name"})]}),Object(x.jsxs)("div",{className:"form-outline mb-2",children:[Object(x.jsx)("input",{type:"text",className:"form-control form-control-lg",value:v,onChange:function(e){p(e.target.value)},placeholder:"Enter Last Name"}),Object(x.jsx)("label",{className:"form-label",children:"Last Name"})]}),Object(x.jsxs)("div",{className:"form-outline mb-2",children:[Object(x.jsx)("input",{type:"text",className:"form-control form-control-lg",value:y,onChange:function(e){w(e.target.value)},placeholder:"Enter User Name"}),Object(x.jsx)("label",{className:"form-label",children:"Username"})]}),Object(x.jsxs)("div",{className:"form-outline mb-2",children:[Object(x.jsx)("input",{type:"password",className:"form-control form-control-lg",value:R,onChange:function(e){F(function(e){O.a.isStrongPassword(e,{minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1})?r(""):r("The password in not strong enough")}(e.target.value))},placeholder:"Enter Old Password"}),Object(x.jsx)("label",{className:"form-label",children:"Old Password"})]}),Object(x.jsxs)("div",{className:"form-outline mb-2",children:[Object(x.jsx)("input",{type:"password",className:"form-control form-control-lg",value:A,onChange:function(e){L(e.target.value)},placeholder:"Enter New Password"}),Object(x.jsx)("label",{className:"form-label",children:"New Password"})]}),Object(x.jsxs)("div",{className:"form-outline mb-3",children:[Object(x.jsx)("input",{type:"password",className:"form-control form-control-lg",value:D,onChange:function(e){J(e.target.value)},placeholder:"Confirm password"}),Object(x.jsx)("label",{className:"form-label",children:"Confirm Password"})]}),Object(x.jsxs)("div",{className:"form-group row d-flex justify-content-center ",children:[Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg form-control",onClick:B,children:"Update"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)("button",{type:"button",className:"btn btn-dark btn-lg form-control",onClick:function(){e.push("/")},children:"Cancel"})}),Object(x.jsx)("div",{className:"divider d-flex align-items-center my-4",children:Object(x.jsx)("p",{className:"text-center fw-bold mx-3 mb-1",children:n})})]})]})})})})},Y=function(){return Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(B,{})})};var _=function(){var e=Object(c.useState)(localStorage.cityReview?"Add Review":"Add City"),t=Object(u.a)(e,2),a=(t[0],t[1],Object(c.useState)(!1)),n=Object(u.a)(a,2),r=(n[0],n[1],Object(c.useState)(localStorage.cityReview)),s=Object(u.a)(r,2),l=s[0],o=s[1],b=Object(c.useState)(localStorage.stateReview),h=Object(u.a)(b,2),O=h[0],f=h[1],v=Object(c.useState)(localStorage.commentReview),p=Object(u.a)(v,2),g=p[0],N=p[1],y=JSON.parse(localStorage.ratingsReview),w=Object(c.useState)(""+y.entertainment),S=Object(u.a)(w,2),k=S[0],C=S[1],T=Object(c.useState)(""+y.nature),I=Object(u.a)(T,2),R=I[0],F=I[1],E=Object(c.useState)(""+y.cost),U=Object(u.a)(E,2),A=U[0],L=U[1],D=Object(c.useState)(""+y.safety),J=Object(u.a)(D,2),B=J[0],Y=J[1],_=Object(c.useState)(""+y.culture),V=Object(u.a)(_,2),W=V[0],q=V[1],z=Object(c.useState)(""+y.transportation),G=Object(u.a)(z,2),H=G[0],K=G[1],Q=Object(c.useState)(""+y.food),X=Object(u.a)(Q,2),Z=X[0],$=X[1],ee=[{name:"1",value:"1"},{name:"2",value:"2"},{name:"3",value:"3"},{name:"4",value:"4"},{name:"5",value:"5"}],te=Object(i.g)(),ae=Object(c.useState)(""),ce=Object(u.a)(ae,2),ne=ce[0],re=ce[1],se=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={email:localStorage.userEmail,city:localStorage.cityReview,state:localStorage.stateReview,rating:{entertainment:k,nature:R,cost:A,safety:B,culture:W,transportation:H,food:Z},review:g,jwtToken:localStorage.accessToken},c=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/editRating",headers:{"Content-Type":"application/json"},data:c},m()(n).then((function(e){var t=e.data;t.error?re(t.error):(re(""),le(t))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function le(e){localStorage.setItem("accessToken",e.jwtToken.accessToken),localStorage.setItem("cityReview",""),localStorage.setItem("stateReview",""),localStorage.setItem("commentReview",""),localStorage.setItem("ratingReview",""),te.push("/")}return Object(x.jsx)("div",{className:"container-fluid h-custom mt-0",children:Object(x.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(x.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(x.jsx)("h1",{children:"Edit Review"})}),Object(x.jsx)("div",{className:"divider d-flex align-items-center mt-0 my-4",children:Object(x.jsx)("p",{className:"text-center fw-bold mx-3 mb-3"})}),Object(x.jsxs)("div",{className:"form-outline mt-1 mb-2",children:[Object(x.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:l,onChange:function(e){o(e.target.value)},readOnly:!0}),Object(x.jsx)("label",{className:"form-label",children:"City"})]}),Object(x.jsxs)("div",{className:"form-outline mb-2",children:[Object(x.jsx)("input",{type:"text",className:"form-control form-control-lg",value:O,onChange:function(e){f(e.target.value)},readOnly:!0}),Object(x.jsx)("label",{className:"form-label",children:"State"})]}),Object(x.jsxs)("div",{className:"form-outline mb-3",children:[Object(x.jsx)("input",{type:"text",className:"form-control form-control-lg",value:g,onChange:function(e){N(e.target.value)},placeholder:"Enter your review"}),Object(x.jsx)("label",{className:"form-label",children:"Enter Comment.  (Max. 250 characters)"})]}),Object(x.jsx)("div",{className:"div-table",children:Object(x.jsxs)("table",{className:"inline-table",children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Entertainment:\xa0"}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio1-".concat(t),type:"radio",variant:"outline-warning warning text-dark ",name:"radio1",value:e.value,checked:k===e.value,onChange:function(e){return C(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Nature :"}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio2-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio2",value:e.value,checked:R===e.value,onChange:function(e){return F(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Cost :"}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio3-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio3",value:e.value,checked:A===e.value,onChange:function(e){return L(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Safety :"}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio4-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio4",value:e.value,checked:B===e.value,onChange:function(e){return Y(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Culture :"}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio5-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio5",value:e.value,checked:W===e.value,onChange:function(e){return q(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Transportation:\xa0\xa0\xa0 "}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio6-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio6",value:e.value,checked:H===e.value,onChange:function(e){return K(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Food: "}),Object(x.jsx)("td",{children:Object(x.jsx)(M.a,{children:ee.map((function(e,t){return Object(x.jsx)(P.a,{id:"radio7-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio7",value:e.value,checked:Z===e.value,onChange:function(e){return $(e.currentTarget.value)},children:e.name},t)}))})})]})]})}),Object(x.jsxs)("div",{className:"form-group row d-flex justify-content-center mt-4",children:[Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg align-items-center",onClick:se,children:"Update"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)("button",{type:"button",className:"btn btn-dark btn-lg align-items-center",onClick:function(){localStorage.setItem("cityReview",""),localStorage.setItem("stateReview",""),localStorage.setItem("commentReview",""),localStorage.setItem("ratingReview",""),te.push("/")},children:"Cancel"})}),Object(x.jsx)("div",{className:"divider d-flex align-items-center mt-1 my-4",children:Object(x.jsx)("p",{className:"text-center fw-bold mx-3 mb-5",children:ne})})]})]})})})})},V=function(){return Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(_,{})})};var W=function(){return Object(x.jsx)(l.a,{children:Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{path:"/",exact:!0,children:Object(x.jsx)(U,{})}),Object(x.jsx)(i.b,{path:"/login",exact:!0,children:Object(x.jsx)(v,{})}),Object(x.jsx)(i.b,{path:"/AddCity",exact:!0,children:Object(x.jsx)(L,{})}),Object(x.jsx)(i.b,{path:"/AddReview",exact:!0,children:Object(x.jsx)(J,{})}),Object(x.jsx)(i.b,{path:"/EditReview",exact:!0,children:Object(x.jsx)(V,{})}),Object(x.jsx)(i.b,{path:"/Settings",exact:!0,children:Object(x.jsx)(Y,{})}),Object(x.jsx)(i.a,{to:"/"})]})})};s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(W,{})}),document.getElementById("root"))},30:function(e,t,a){}},[[242,1,2]]]);
//# sourceMappingURL=main.6704d942.chunk.js.map