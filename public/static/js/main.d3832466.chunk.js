(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{110:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(22),s=a.n(r),l=(a(110),a(48),a(23)),o=a(12),i=(a(31),a(15)),d=a.n(i),j=a(24),u=a(5),m=a(6),b=a(13),h=a.n(b),O=a(246),x=a(102),f=a(37),g=a.n(f),p=a(0);function v(e){return Object(p.jsxs)(O.a,Object(m.a)(Object(m.a)({},e),{},{size:"","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsx)(O.a.Header,{closeButton:!0,children:Object(p.jsx)(O.a.Title,{id:"contained-modal-title-vcenter",children:"Rate My City"})}),Object(p.jsx)(O.a.Body,{children:Object(p.jsx)("p",{children:"We will send you an email based on the address you've written with a link that will allow you to reset your password. Please follow the instructions on the email."})}),Object(p.jsx)(O.a.Footer,{children:Object(p.jsx)(x.a,{onClick:e.onHide,children:"Close"})})]}))}var y=function(){var e=c.a.useState(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(o.g)(),l=c.a.useState(!1),i=Object(u.a)(l,2),m=i[0],b=i[1],O="",x="",f="",y="",N="",w="",S=Object(n.useState)(""),k=Object(u.a)(S,2),C=k[0],T=k[1],R=function(e){g.a.isStrongPassword(e,{minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1})?T(""):T("The password in not strong enough")},I=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={email:f.value,password:N.value},n=JSON.stringify(a),c={method:"post",url:"https://rate-my-city.herokuapp.com/api/login",headers:{"Content-Type":"application/json"},data:n},h()(c).then((function(e){var t=e.data;t.error?T(t.error):P(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===C&&N.value===w.value?(t.preventDefault(),a={firstName:O.value,lastName:x.value,userName:y.value,email:f.value,password:N.value,confirmpassword:w.value},n=JSON.stringify(a),c={method:"post",url:"https://rate-my-city.herokuapp.com/api/register",headers:{"Content-Type":"application/json"},data:n},h()(c).then((function(e){var t=e.data;t.error&&""!==t.error?T(t.error):E()}))):T("Passwords do not Match");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function P(e){localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("userId",e.id),localStorage.setItem("userFirstName",e.firstName),localStorage.setItem("userLastName",e.lastName),localStorage.setItem("userName",e.userName),localStorage.setItem("userEmail",f.value),localStorage.setItem("userPassword",N.value),s.push("/")}function E(){localStorage.clear(),localStorage.setItem("showModalRegister",!0),s.push("/")}return Object(p.jsx)("div",{className:"container-fluid h-custom",children:Object(p.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(p.jsx)("div",{className:"mt-5 col-xl-4",children:Object(p.jsxs)("form",{children:[Object(p.jsx)("div",{className:"divider d-flex align-items-center my-4 mt-0",children:Object(p.jsx)("p",{className:"text-center fw-bold mx-3 mb-4",children:Object(p.jsx)("h3",{children:m?"Register":"Login"})})}),Object(p.jsxs)("div",{className:"form-group row d-flex justify-content-center mb-5",children:[Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("button",{type:"button",className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){return b(!1)},children:"\xa0Login"})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("button",{type:"button",className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){return b(!0)},children:"Register"})})]}),m&&Object(p.jsxs)("div",{className:"form-outline mt-2 mb-2",children:[Object(p.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",placeholder:"Enter First Name",ref:function(e){return O=e}}),Object(p.jsx)("label",{className:"form-label",children:"First Name"})]}),m&&Object(p.jsxs)("div",{className:"form-outline mt-2 mb-2",children:[Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Last Name",ref:function(e){return x=e}}),Object(p.jsx)("label",{className:"form-label",children:"Last Name"})]}),m&&Object(p.jsxs)("div",{className:"form-outline mt-2 mb-2",children:[Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter User Name",ref:function(e){return y=e}}),Object(p.jsx)("label",{className:"form-label",children:"User Name"})]}),Object(p.jsxs)("div",{className:"form-outline mt-2 mb-2",children:[Object(p.jsx)("input",{type:"email",autoFocus:!0,className:"form-control form-control-lg",placeholder:"Enter a valid email address",ref:function(e){return f=e},onChange:function(e){return m?function(e){var t=e.target.value;g.a.isEmail(t)?T(""):T("The email is not Valid")}(e):e}}),Object(p.jsx)("label",{className:"form-label",children:"Email Address"})]}),Object(p.jsxs)("div",{className:"form-outline my-2 mb-2",children:[Object(p.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Enter password",ref:function(e){return N=e},onChange:function(e){return m?R(e.target.value):e.target.value}}),Object(p.jsx)("label",{className:"form-label",children:"Password (Have at least 8 characters, one capital letter, number, and special character.)"})]}),m&&Object(p.jsxs)("div",{className:"form-outline mt-2 mb-2",children:[Object(p.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Confirm password",ref:function(e){return w=e},onChange:function(e){return R(e.target.value)}}),Object(p.jsx)("label",{className:"form-label",children:"Confirm password"})]}),Object(p.jsxs)("div",{className:"form-group row d-flex justify-content-center ",children:[!m&&Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:I,children:"Sign In"})}),m&&Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:F,children:"Sign In"})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("button",{type:"button",className:"btn btn-dark btn-lg fw-bold form-control",onClick:function(){localStorage.clear(),s.push("/")},children:"Cancel"})})]}),!m&&Object(p.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-4",children:Object(p.jsx)("a",{className:"link-line",href:"#",onClick:function(){return function(){r(!0);var e={email:f.value},t={method:"post",url:"https://rate-my-city.herokuapp.com/api/resetPassword",headers:{"Content-Type":"application/json"},data:JSON.stringify(e)};h()(t).then((function(e){var t=e.data;t.message?(T(t.message),localStorage.setItem("emailToken",t.emailToken)):T(t.message)}))}()},children:"Forgot Password ?"})}),Object(p.jsx)("div",{className:"divider d-flex align-items-center my-4",children:Object(p.jsx)("p",{className:"text-center fw-bold mx-3 mb-1",children:C})}),Object(p.jsx)(v,{show:a,onHide:function(){return r(!1)}})]})})})})},N=function(){return Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(y,{})})},w=a.p+"static/media/city4.8ea25c95.png";var S=function(){return Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"},children:Object(p.jsxs)("h2",{children:[Object(p.jsx)("img",{className:"logo-picture",src:w,alt:"Logo of App"}),"Rate My City"]})})};var k=function(){var e=Object(o.g)(),t="",a="Login / Register",n=!1;localStorage.accessToken&&""!==localStorage.accessToken&&(t="Welcome: "+localStorage.userFirstName+" "+localStorage.userLastName,n=!0,a="Logout");var r=c.a.useState(n),s=Object(u.a)(r,2),l=s[0];return s[1],Object(p.jsxs)("div",{className:"container-fluid h-custom mt-5",children:[Object(p.jsx)("p",{children:"\xa0"}),Object(p.jsxs)("div",{className:"input-group mt-1 mb-2",children:[Object(p.jsx)("input",{className:"form-control text-left fw-bold",disabled:"disabled",placeholder:t}),Object(p.jsx)("div",{className:"input-group-append",children:Object(p.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){localStorage.accessToken&&""!==localStorage.accessToken?(t="",localStorage.clear(),window.location.reload(!1)):e.push("/login")},children:a})}),l&&Object(p.jsx)("div",{className:"input-group-append",children:Object(p.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){e.push("/Settings")},children:"Settings"})})]})]})},C=a(59);a(91);var T=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({}),s=Object(u.a)(r,2),l=s[0],i=s[1],d=Object(n.useState)({}),j=Object(u.a)(d,2),m=j[0],b=j[1],O=Object(n.useState)({}),x=Object(u.a)(O,2),f=x[0],g=x[1],v=Object(o.g)(),y=Object(n.useState)(""),N=Object(u.a)(y,2),w=N[0],S=N[1],k=Object(n.useState)(""),T=Object(u.a)(k,2),R=T[0],I=T[1],F=Object(n.useState)(""),P=Object(u.a)(F,2),E=P[0],L=P[1];function U(e,t){return!!t.selected.length||e.label.toLowerCase().indexOf(t.text.toLowerCase())>-1}Object(n.useEffect)((function(){localStorage.accessToken&&""!==localStorage.accessToken&&c(!0),localStorage.setItem("citySelected",""),localStorage.setItem("stateSelected",""),localStorage.setItem("userNameSelected",""),function(){var e={method:"get",url:"https://rate-my-city.herokuapp.com/api/listCities"};h()(e).then((function(e){var t=e.data;t.error||i(t.map((function(e){return{label:e.name}})))})),e={method:"get",url:"https://rate-my-city.herokuapp.com/api/listStates"},h()(e).then((function(e){var t=e.data;t.error||b(t.map((function(e){return{label:e.state}})))})),e={method:"get",url:"https://rate-my-city.herokuapp.com/api/listUserName"},h()(e).then((function(e){var t=e.data;t.error||g(t.map((function(e){return{label:e.userName}})))}))}()}),[]);var M=function(e){var t=e.isOpen,a=e.onClick;return Object(p.jsx)("button",{className:"toggle-button",onClick:a,onMouseDown:function(e){e.preventDefault()},children:t?"\u25b2":"\u25bc"})};return Object(p.jsxs)("div",{className:"input-group d-flex justify-content-center",children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)(C.a,{id:"dropCity",filterBy:U,options:l,onChange:function(e){S(e[0].label)},placeholder:"Search by City ...",children:function(e){var t=e.isMenuShown,a=e.toggleMenu;return Object(p.jsx)(M,{isOpen:t,onClick:function(e){return a()}})}})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)(C.a,{id:"dropState",filterBy:U,options:m,onChange:function(e){I(e[0].label)},placeholder:"Search by State ...",children:function(e){var t=e.isMenuShown,a=e.toggleMenu;return Object(p.jsx)(M,{isOpen:t,onClick:function(e){return a()}})}})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)(C.a,{id:"dropUserName",filterBy:U,options:f,onChange:function(e){L(e[0].label)},placeholder:"Search by User ...",children:function(e){var t=e.isMenuShown,a=e.toggleMenu;return Object(p.jsx)(M,{isOpen:t,onClick:function(e){return a()}})}})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){localStorage.setItem("citySelected",w),localStorage.setItem("stateSelected",R),localStorage.setItem("userNameSelected",E),v.push("ShowReviews")},children:"Search"}),a&&Object(p.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){localStorage.setItem("cityReview",""),localStorage.setItem("stateReview",""),v.push("AddCity")},children:"Add City"})]}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:"\xa0"})})]})},R=a(33),I=a(34),F=a(26),P=a(46),E=a(45),L=a(100),U=a.n(L);function M(e){return Object(p.jsxs)(O.a,Object(m.a)(Object(m.a)({},e),{},{size:"","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsx)(O.a.Header,{closeButton:!0,children:Object(p.jsx)(O.a.Title,{id:"contained-modal-title-vcenter",children:"Rate My City"})}),Object(p.jsx)(O.a.Body,{children:Object(p.jsx)("p",{children:"We will send you an email based on the address you've written with a link that will allow you to confirm your registration. Please follow the instructions on the email."})}),Object(p.jsx)(O.a.Footer,{children:Object(p.jsx)(x.a,{onClick:e.onHide,children:"Close"})})]}))}var A=function(e){Object(P.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(R.a)(this,a),(n=t.call(this,e)).state={reviews:[],message:"",modalRegistration:!1,showOptions:!!localStorage.accessToken},n.routerChange=n.routerChange.bind(Object(F.a)(n)),n.deleteReview=n.deleteReview.bind(Object(F.a)(n)),n}return Object(I.a)(a,[{key:"routerChange",value:function(e,t){localStorage.setItem("cityReview",e),localStorage.setItem("stateReview",t),this.props.history.push("/AddReview")}},{key:"deleteReview",value:function(e,t){var a=this;window.confirm("Are you sure you want to delete this review?")&&(this.obj={email:localStorage.userEmail,city:e,jwtToken:localStorage.accessToken},this.js=JSON.stringify(this.obj),this.config={method:"post",url:"https://rate-my-city.herokuapp.com/api/delete",headers:{"Content-Type":"application/json"},data:this.js},h()(this.config).then((function(e){var t=e.data;t.error?a.setState({message:t.error}):(a.setState({message:""}),localStorage.accessToken=t.jwtToken.accessToken,window.location.reload(!1))})))}},{key:"editReview",value:function(e,t,a,n){localStorage.setItem("cityReview",e),localStorage.setItem("stateReview",t),localStorage.setItem("commentReview",a),localStorage.setItem("ratingsReview",n),this.props.history.push("/EditReview")}},{key:"componentDidMount",value:function(){var e=this;this.axiosUrl="https://rate-my-city.herokuapp.com/api/",localStorage.userNameSelected?this.axiosUrl+="searchUsername":this.axiosUrl+="searchCityState",this.obj={city:localStorage.citySelected,state:localStorage.stateSelected,userName:localStorage.userNameSelected},this.js=JSON.stringify(this.obj),this.config={method:"post",url:this.axiosUrl,headers:{"Content-Type":"application/json"},data:this.js},h()(this.config).then((function(t){var a=t.data;a.error?e.setState({message:a.error}):(e.setState({message:"",reviews:a}),"true"===localStorage.showModalRegister&&(localStorage.setItem("showModalRegister",!1),e.setState({modalRegistration:!0})))}))}},{key:"render",value:function(){var e=this,t=this.state.reviews,a=this.state.showOptions;return Object(p.jsx)("body",{children:Object(p.jsx)("div",{className:"container input-group justify-content-center trans-color",children:Object(p.jsx)("table",{className:"master-table",children:t.map((function(t){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"d-table w-100 city-separator",children:[Object(p.jsxs)("p",{className:"d-table-cell city-state",children:[t._id,", \xa0",t.state]}),a&&Object(p.jsxs)("div",{className:"d-table-cell tar",children:[Object(p.jsx)("button",{className:"btn btn-sm fw-bold btn-secondary",onClick:function(){return e.routerChange(t._id,t.state)},type:"button",children:"Add Review"}),"\xa0"]})]}),Object(p.jsx)("div",{className:"row justify-content-center",children:Object(p.jsx)("div",{className:"",children:Object(p.jsx)("table",{className:"table table-responsive mb-1 mt-0",children:Object(p.jsxs)("tr",{className:"rating-avg",children:[Object(p.jsx)("td",{children:"Cost:"}),Object(p.jsx)("td",{children:parseFloat(t.averageCost).toFixed(1)}),Object(p.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(p.jsx)("td",{children:"Nature:"}),Object(p.jsx)("td",{children:parseFloat(t.averageNature).toFixed(1)}),Object(p.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(p.jsx)("td",{children:"Culture:"}),Object(p.jsx)("td",{children:parseFloat(t.averageCulture).toFixed(1)}),Object(p.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(p.jsx)("td",{children:"Safety:"}),Object(p.jsx)("td",{children:parseFloat(t.averageSafety).toFixed(1)}),Object(p.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(p.jsx)("td",{children:"Entertaiment:"}),Object(p.jsx)("td",{children:parseFloat(t.averageEntertainment).toFixed(1)}),Object(p.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(p.jsx)("td",{children:"Transportation:"}),Object(p.jsx)("td",{children:parseFloat(t.averageTransportation).toFixed(1)}),Object(p.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(p.jsx)("td",{children:"Food:"}),Object(p.jsx)("td",{children:parseFloat(t.averageFood).toFixed(1)})]})})})}),Object(p.jsx)("div",{children:t.ratings.map((function(e,a){var n=this;return Object(p.jsxs)("form",{className:"box",children:[Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"line-delete",children:[Object(p.jsxs)("span",{className:"user",children:[Object(p.jsxs)("span",{className:"usr-name",children:[Object(p.jsx)("u",{children:e.userdetails.userName}),"\xa0\xa0"]}),Object(p.jsxs)("span",{className:"time-stamp",children:["wrote at ",U()(e.time).format("MM-DD-YYYY @ hh:mm A"),":"]})]}),e.userdetails.userName===localStorage.userName&&Object(p.jsx)("div",{children:Object(p.jsxs)("span",{className:"action",children:[Object(p.jsx)("button",{className:"delete-button",onClick:function(){return n.editReview(t._id,t.state,e.description,JSON.stringify(e.rating))},type:"button",children:"Edit"}),"\xa0",Object(p.jsx)("button",{className:"delete-button",onClick:function(){return n.deleteReview(t._id,t.state)},type:"button",children:"Delete"})]})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:"\xa0"})}),Object(p.jsx)("p",{className:"rate-comment",children:e.description})]})]})}),Object(p.jsx)("div",{className:"row justify-content-center",children:Object(p.jsx)("div",{className:"",children:Object(p.jsx)("table",{className:"table table-responsive mb-1 mt-0",children:Object(p.jsxs)("tr",{className:"rating-avg2",children:[Object(p.jsx)("td",{children:"Cost:"}),Object(p.jsx)("td",{children:parseFloat(e.rating.cost).toFixed(1)}),Object(p.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(p.jsx)("td",{children:"Nature:"}),Object(p.jsx)("td",{children:parseFloat(e.rating.nature).toFixed(1)}),Object(p.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(p.jsx)("td",{children:"Culture:"}),Object(p.jsx)("td",{children:parseFloat(e.rating.culture).toFixed(1)}),Object(p.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(p.jsx)("td",{children:"Safety:"}),Object(p.jsx)("td",{children:parseFloat(e.rating.safety).toFixed(1)}),Object(p.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(p.jsx)("td",{children:"Entertaiment:"}),Object(p.jsx)("td",{children:parseFloat(e.rating.entertainment).toFixed(1)}),Object(p.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(p.jsx)("td",{children:"Transportation:"}),Object(p.jsx)("td",{children:parseFloat(e.rating.transportation).toFixed(1)}),Object(p.jsx)("td",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),Object(p.jsx)("td",{children:"Food:"}),Object(p.jsx)("td",{children:parseFloat(e.rating.food).toFixed(1)})]})})})}),Object(p.jsx)(M,{show:this.state.modalRegistration,onHide:function(){return n.setState({modalRegistration:!1})}})]},a)}),e)})]})}),this)})})})}}]),a}(n.Component),J=Object(o.h)(A),D=function(){return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(k,{}),Object(p.jsx)(S,{}),Object(p.jsx)(T,{}),Object(p.jsx)(J,{})]})};var B=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(u.a)(r,2),l=s[0],i=s[1],m=Object(o.g)(),b=Object(n.useState)(""),O=Object(u.a)(b,2),x=O[0],f=O[1],g=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={name:a,state:l,country:"USA",jwtToken:localStorage.accessToken},c=JSON.stringify(n),r={method:"post",url:"https://rate-my-city.herokuapp.com/api/createCity",headers:{"Content-Type":"application/json"},data:c},h()(r).then((function(e){var t=e.data;"[object Object]"==t.toString()?(f(""),v(t)):f(t.toString())}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function v(e){localStorage.setItem("accessToken",e.jwtToken.accessToken),m.push("/")}return Object(p.jsx)("div",{className:"container-fluid h-custom mt-0",children:Object(p.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(p.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(p.jsxs)("form",{children:[Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(p.jsx)("h1",{children:"Add City"})}),Object(p.jsx)("div",{className:"divider d-flex align-items-center mt-0 my-4",children:Object(p.jsx)("p",{className:"text-center fw-bold mx-3 mb-3"})}),Object(p.jsxs)("div",{className:"form-outline mt-1 mb-2",children:[Object(p.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:a,onChange:function(e){c(e.target.value)},placeholder:"Only enter US city"}),Object(p.jsx)("label",{className:"form-label",children:"Enter City"})]}),Object(p.jsxs)("div",{className:"form-outline mb-2",children:[Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",value:l,onChange:function(e){i(e.target.value)},placeholder:"Only enter US state"}),Object(p.jsx)("label",{className:"form-label",children:"Enter State"})]}),Object(p.jsxs)("div",{className:"form-group row d-flex justify-content-center mt-4",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg align-items-center",onClick:g,children:"Add"})}),Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("button",{type:"button",className:"btn btn-dark btn-lg align-items-center",onClick:function(){m.push("/")},children:"Cancel"})}),Object(p.jsx)("div",{className:"divider d-flex align-items-center mt-1 my-4",children:Object(p.jsx)("p",{className:"text-center fw-bold mx-3 mb-5",children:x})})]})]})})})})},H=function(){return Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(B,{})})},Y=a(244),_=a(245);var W=function(){var e=Object(n.useState)(localStorage.cityReview?"Add Review":"Add City"),t=Object(n.useState)(localStorage.cityReview),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(localStorage.stateReview),l=Object(u.a)(s,2),i=l[0],m=l[1],b=Object(n.useState)(""),O=Object(u.a)(b,2),x=O[0],f=O[1],g=Object(n.useState)("1"),v=Object(u.a)(g,2),y=v[0],N=v[1],w=Object(n.useState)("1"),S=Object(u.a)(w,2),k=S[0],C=S[1],T=Object(n.useState)("1"),R=Object(u.a)(T,2),I=R[0],F=R[1],P=Object(n.useState)("1"),E=Object(u.a)(P,2),L=E[0],U=E[1],M=Object(n.useState)("1"),A=Object(u.a)(M,2),J=A[0],D=A[1],B=Object(n.useState)("1"),H=Object(u.a)(B,2),W=H[0],z=H[1],V=Object(n.useState)("1"),q=Object(u.a)(V,2),G=q[0],K=q[1],Q=[{name:"1",value:"1"},{name:"2",value:"2"},{name:"3",value:"3"},{name:"4",value:"4"},{name:"5",value:"5"}],X=Object(o.g)(),Z=Object(n.useState)(""),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ae=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={userid:localStorage.userId,email:localStorage.userEmail,city:c,state:i,rating:{entertainment:y,nature:k,cost:I,safety:L,culture:J,transportation:W,food:G},review:x,jwtToken:localStorage.accessToken},n=JSON.stringify(a),r={method:"post",url:"https://rate-my-city.herokuapp.com/api/addRating",headers:{"Content-Type":"application/json"},data:n},h()(r).then((function(e){var t=e.data;t.error?te(t.error):(te(""),ne(t))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ne(e){localStorage.setItem("accessToken",e.jwtToken.accessToken),localStorage.setItem("cityReview",""),localStorage.setItem("stateReview",""),X.push("/")}return Object(p.jsx)("div",{className:"container-fluid h-custom mt-0",children:Object(p.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(p.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(p.jsxs)("form",{children:[Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(p.jsx)("h1",{children:e})}),Object(p.jsx)("div",{className:"divider d-flex align-items-center mt-0 my-4",children:Object(p.jsx)("p",{className:"text-center fw-bold mx-3 mb-3"})}),Object(p.jsxs)("div",{className:"form-outline mt-1 mb-2",children:[localStorage.cityReview?Object(p.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:c,onChange:function(e){r(e.target.value)},placeholder:"Only enter US city",readOnly:!0}):Object(p.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:c,onChange:function(e){r(e.target.value)},placeholder:"Only enter US city"}),Object(p.jsx)("label",{className:"form-label",children:"Enter City"})]}),Object(p.jsxs)("div",{className:"form-outline mb-2",children:[localStorage.cityReview?Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",value:i,onChange:function(e){m(e.target.value)},placeholder:"Only enter US state",readOnly:!0}):Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",value:i,onChange:function(e){m(e.target.value)},placeholder:"Only enter US state"}),Object(p.jsx)("label",{className:"form-label",children:"Enter State"})]}),Object(p.jsxs)("div",{className:"form-outline mb-3",children:[Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",value:x,onChange:function(e){f(e.target.value)},placeholder:"Enter your review"}),Object(p.jsx)("label",{className:"form-label",children:"Enter Comment.  (Max. 250 characters)"})]}),Object(p.jsx)("div",{className:"div-table",children:Object(p.jsxs)("table",{className:"rating-table",children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"label-rates",children:"Entertainment:\xa0"}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio1-".concat(t),type:"radio",variant:"outline-warning warning text-dark ",name:"radio1",value:e.value,checked:y===e.value,onChange:function(e){return N(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"label-rates",children:"Nature :"}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio2-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio2",value:e.value,checked:k===e.value,onChange:function(e){return C(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"label-rates",children:"Cost :"}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio3-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio3",value:e.value,checked:I===e.value,onChange:function(e){return F(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"label-rates",children:"Safety :"}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio4-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio4",value:e.value,checked:L===e.value,onChange:function(e){return U(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"label-rates",children:"Culture :"}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio5-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio5",value:e.value,checked:J===e.value,onChange:function(e){return D(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"label-rates",children:"Transportation:\xa0\xa0\xa0 "}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio6-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio6",value:e.value,checked:W===e.value,onChange:function(e){return z(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"label-rates",children:"Food: "}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio7-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio7",value:e.value,checked:G===e.value,onChange:function(e){return K(e.currentTarget.value)},children:e.name},t)}))})})]})]})}),Object(p.jsxs)("div",{className:"form-group row d-flex justify-content-center mt-4",children:[Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg align-items-center",onClick:ae,children:"Add"})}),Object(p.jsx)("div",{className:"col-md-3",children:Object(p.jsx)("button",{type:"button",className:"btn btn-dark btn-lg align-items-center",onClick:function(){localStorage.setItem("cityReview",""),localStorage.setItem("stateReview",""),X.push("/")},children:"Cancel"})}),Object(p.jsx)("div",{className:"divider d-flex align-items-center mt-1 my-4",children:Object(p.jsx)("p",{className:"text-center fw-bold mx-3 mb-5",children:ee})})]})]})})})})},z=function(){return Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(W,{})})};var V=function(){var e=Object(o.g)(),t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(localStorage.userFirstName),l=Object(u.a)(s,2),i=l[0],m=l[1],b=Object(n.useState)(localStorage.userLastName),O=Object(u.a)(b,2),x=O[0],f=O[1],v=Object(n.useState)(localStorage.userName),y=Object(u.a)(v,2),N=y[0],w=y[1],S=Object(n.useState)(localStorage.userEmail),k=Object(n.useState)(localStorage.userPassword),C=Object(u.a)(k,2),T=C[0],R=C[1],I=Object(n.useState)(localStorage.userPassword),F=Object(u.a)(I,2),P=F[0],E=F[1],L=Object(n.useState)(localStorage.userPassword),U=Object(u.a)(L,2),M=U[0],A=U[1],J=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={userId:localStorage.userId,firstName:i,lastName:x,userName:N,email:S,password:P,confirmpassword:M,jwtToken:localStorage.accessToken},n=JSON.stringify(a),c={method:"post",url:"https://rate-my-city.herokuapp.com/api/settings",headers:{"Content-Type":"application/json"},data:n},h()(c).then((function(e){var t=e.data;t.error&&""!==t.error?r(t.error):(r(""),D(t))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function D(t){localStorage.setItem("accessToken",t.jwtToken.accessToken),localStorage.setItem("userId",t.id),localStorage.setItem("userFirstName",t.firstName),localStorage.setItem("userLastName",t.lastName),localStorage.setItem("userName",t.userName),localStorage.setItem("userEmail",t.email),localStorage.setItem("userPassword",P),e.push("/")}var B=function(e){g.a.isStrongPassword(e,{minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1})?r(""):r("The password in not strong enough")};return Object(p.jsx)("div",{className:"container-fluid h-custom",children:Object(p.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(p.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(p.jsxs)("form",{children:[Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(p.jsx)("h1",{children:"Settings"})}),Object(p.jsxs)("div",{className:"form-outline mt-4 mb-2",children:[Object(p.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:i,onChange:function(e){m(e.target.value)},placeholder:"Enter First Name"}),Object(p.jsx)("label",{className:"form-label",children:"First Name"})]}),Object(p.jsxs)("div",{className:"form-outline mb-2",children:[Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",value:x,onChange:function(e){f(e.target.value)},placeholder:"Enter Last Name"}),Object(p.jsx)("label",{className:"form-label",children:"Last Name"})]}),Object(p.jsxs)("div",{className:"form-outline mb-2",children:[Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",value:N,onChange:function(e){w(e.target.value)},placeholder:"Enter User Name"}),Object(p.jsx)("label",{className:"form-label",children:"Username"})]}),Object(p.jsxs)("div",{className:"form-outline mb-2",children:[Object(p.jsx)("input",{type:"password",className:"form-control form-control-lg",value:T,onChange:function(e){R(B(e.target.value))},placeholder:"Enter Old Password"}),Object(p.jsx)("label",{className:"form-label",children:"Old Password"})]}),Object(p.jsxs)("div",{className:"form-outline mb-2",children:[Object(p.jsx)("input",{type:"password",className:"form-control form-control-lg",value:P,onChange:function(e){E(B(e.target.value))},placeholder:"Enter New Password"}),Object(p.jsx)("label",{className:"form-label",children:"New Password"})]}),Object(p.jsxs)("div",{className:"form-outline mb-3",children:[Object(p.jsx)("input",{type:"password",className:"form-control form-control-lg",value:M,onChange:function(e){A(B(e.target.value))},placeholder:"Confirm password"}),Object(p.jsx)("label",{className:"form-label",children:"Confirm Password"})]}),Object(p.jsxs)("div",{className:"form-group row d-flex justify-content-center ",children:[Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg form-control",onClick:J,children:"Update"})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("button",{type:"button",className:"btn btn-dark btn-lg form-control",onClick:function(){e.push("/")},children:"Cancel"})}),Object(p.jsx)("div",{className:"divider d-flex align-items-center my-4",children:Object(p.jsx)("p",{className:"text-center fw-bold mx-3 mb-1",children:c})})]})]})})})})},q=function(){return Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(V,{})})};var G=function(){var e=Object(n.useState)(localStorage.cityReview),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(localStorage.stateReview),s=Object(u.a)(r,2),l=s[0],i=s[1],m=Object(n.useState)(localStorage.commentReview),b=Object(u.a)(m,2),O=b[0],x=b[1],f=JSON.parse(localStorage.ratingsReview),g=Object(n.useState)(""+f.entertainment),v=Object(u.a)(g,2),y=v[0],N=v[1],w=Object(n.useState)(""+f.nature),S=Object(u.a)(w,2),k=S[0],C=S[1],T=Object(n.useState)(""+f.cost),R=Object(u.a)(T,2),I=R[0],F=R[1],P=Object(n.useState)(""+f.safety),E=Object(u.a)(P,2),L=E[0],U=E[1],M=Object(n.useState)(""+f.culture),A=Object(u.a)(M,2),J=A[0],D=A[1],B=Object(n.useState)(""+f.transportation),H=Object(u.a)(B,2),W=H[0],z=H[1],V=Object(n.useState)(""+f.food),q=Object(u.a)(V,2),G=q[0],K=q[1],Q=[{name:"1",value:"1"},{name:"2",value:"2"},{name:"3",value:"3"},{name:"4",value:"4"},{name:"5",value:"5"}],X=Object(o.g)(),Z=Object(n.useState)(""),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ae=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={email:localStorage.userEmail,city:localStorage.cityReview,state:localStorage.stateReview,rating:{entertainment:y,nature:k,cost:I,safety:L,culture:J,transportation:W,food:G},review:O,jwtToken:localStorage.accessToken},n=JSON.stringify(a),c={method:"post",url:"https://rate-my-city.herokuapp.com/api/editRating",headers:{"Content-Type":"application/json"},data:n},h()(c).then((function(e){var t=e.data;t.error?te(t.error):(te(""),ne(t))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ne(e){localStorage.setItem("accessToken",e.jwtToken.accessToken),localStorage.setItem("cityReview",""),localStorage.setItem("stateReview",""),localStorage.setItem("commentReview",""),localStorage.setItem("ratingReview",""),X.push("/")}return Object(p.jsx)("div",{className:"container-fluid h-custom mt-0",children:Object(p.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(p.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(p.jsxs)("form",{children:[Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(p.jsx)("h1",{children:"Edit Review"})}),Object(p.jsx)("div",{className:"divider d-flex align-items-center mt-0 my-4",children:Object(p.jsx)("p",{className:"text-center fw-bold mx-3 mb-3"})}),Object(p.jsxs)("div",{className:"form-outline mt-1 mb-2",children:[Object(p.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:a,onChange:function(e){c(e.target.value)},readOnly:!0}),Object(p.jsx)("label",{className:"form-label",children:"City"})]}),Object(p.jsxs)("div",{className:"form-outline mb-2",children:[Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",value:l,onChange:function(e){i(e.target.value)},readOnly:!0}),Object(p.jsx)("label",{className:"form-label",children:"State"})]}),Object(p.jsxs)("div",{className:"form-outline mb-3",children:[Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",value:O,onChange:function(e){x(e.target.value)},placeholder:"Enter your review"}),Object(p.jsx)("label",{className:"form-label",children:"Enter Comment.  (Max. 250 characters)"})]}),Object(p.jsx)("div",{className:"div-table",children:Object(p.jsxs)("table",{className:"inline-table",children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Entertainment:\xa0"}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio1-".concat(t),type:"radio",variant:"outline-warning warning text-dark ",name:"radio1",value:e.value,checked:y===e.value,onChange:function(e){return N(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Nature :"}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio2-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio2",value:e.value,checked:k===e.value,onChange:function(e){return C(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Cost :"}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio3-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio3",value:e.value,checked:I===e.value,onChange:function(e){return F(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Safety :"}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio4-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio4",value:e.value,checked:L===e.value,onChange:function(e){return U(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Culture :"}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio5-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio5",value:e.value,checked:J===e.value,onChange:function(e){return D(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Transportation:\xa0\xa0\xa0 "}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio6-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio6",value:e.value,checked:W===e.value,onChange:function(e){return z(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Food: "}),Object(p.jsx)("td",{children:Object(p.jsx)(Y.a,{children:Q.map((function(e,t){return Object(p.jsx)(_.a,{id:"radio7-".concat(t),type:"radio",variant:"outline-warning warning text-dark",name:"radio7",value:e.value,checked:G===e.value,onChange:function(e){return K(e.currentTarget.value)},children:e.name},t)}))})})]})]})}),Object(p.jsxs)("div",{className:"form-group row d-flex justify-content-center mt-4",children:[Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg align-items-center",onClick:ae,children:"Update"})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("button",{type:"button",className:"btn btn-dark btn-lg align-items-center",onClick:function(){localStorage.setItem("cityReview",""),localStorage.setItem("stateReview",""),localStorage.setItem("commentReview",""),localStorage.setItem("ratingReview",""),X.push("/")},children:"Cancel"})}),Object(p.jsx)("div",{className:"divider d-flex align-items-center mt-1 my-4",children:Object(p.jsx)("p",{className:"text-center fw-bold mx-3 mb-5",children:ee})})]})]})})})})},K=function(){return Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(G,{})})},Q=a(101),X=a.n(Q),Z=function(e){Object(P.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(R.a)(this,a),(n=t.call(this,e)).state={emailToken:"",loginPassword:"",confirmPassword:"",message:""},n.doResetPassword=n.doResetPassword.bind(Object(F.a)(n)),n.getEmailToken=n.getEmailToken.bind(Object(F.a)(n)),n.onChangeLoginPassword=n.onChangeLoginPassword.bind(Object(F.a)(n)),n.onChangeConfirmPassword=n.onChangeConfirmPassword.bind(Object(F.a)(n)),n.validatePassword=n.validatePassword.bind(Object(F.a)(n)),n}return Object(I.a)(a,[{key:"validatePassword",value:function(e){return g.a.isStrongPassword(e,{minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1})?(this.setState({message:""}),!0):(this.setState({message:"The password in not strong enough"}),!1)}},{key:"getEmailToken",value:function(){return X.a.parse(this.props.location.search).emailToken}},{key:"onChangeLoginPassword",value:function(e){this.setState({loginPassword:e.target.value})}},{key:"onChangeConfirmPassword",value:function(e){this.setState({confirmPassword:e.target.value})}},{key:"componentDidMount",value:function(){}},{key:"doResetPassword",value:function(){var e=this;this.state.loginPassword===this.state.confirmPassword?this.validatePassword(this.state.loginPassword)&&this.validatePassword(this.state.confirmPassword)&&(this.obj={emailToken:this.getEmailToken(),password:this.state.loginPassword,confirmpassword:this.state.confirmPassword},this.js=JSON.stringify(this.obj),this.config={method:"post",url:"https://rate-my-city.herokuapp.com/ResetPwd",headers:{"Content-Type":"application/json"},data:this.js},h()(this.config).then((function(t){var a=t.data;a.message?e.setState({message:a.message}):(e.setState({message:a.message}),e.returnFromReset())}))):this.setState({message:"Passwords Not Matching!"})}},{key:"returnFromReset",value:function(){localStorage.clear(),this.props.history.push("/")}},{key:"handleClickCancel",value:function(){localStorage.clear(),this.props.history.push("/")}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"container-fluid h-custom",children:Object(p.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(p.jsx)("div",{className:"mt-5 col-xl-4",children:Object(p.jsxs)("form",{children:[Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(p.jsx)("h1",{children:"Reset Password"})}),Object(p.jsx)("div",{className:"divider d-flex align-items-center my-4 mt-0",children:Object(p.jsx)("p",{className:"text-center fw-bold mx-3 mb-4"})}),Object(p.jsxs)("div",{className:"form-outline mb-2",children:[Object(p.jsx)("input",{type:"password",autoFocus:!0,className:"form-control form-control-lg",value:this.state.loginPassword,onChange:this.onChangeLoginPassword,placeholder:"Enter New Password"}),Object(p.jsx)("label",{className:"form-label",children:"New Password"})]}),Object(p.jsxs)("div",{className:"form-outline mb-3",children:[Object(p.jsx)("input",{type:"password",className:"form-control form-control-lg",value:this.state.confirmPassword,onChange:this.onChangeConfirmPassword,placeholder:"Confirm password"}),Object(p.jsx)("label",{className:"form-label",children:"Confirm Password"})]}),Object(p.jsxs)("div",{className:"form-group row d-flex justify-content-center ",children:[Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg form-control",onClick:this.doResetPassword,children:"Update"})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("button",{type:"button",className:"btn btn-dark btn-lg form-control",onClick:this.handleClickCancel,children:"Cancel"})}),Object(p.jsx)("div",{className:"divider d-flex align-items-center my-4",children:Object(p.jsx)("p",{className:"text-center fw-bold mx-3 mb-1",children:this.state.message})})]})]})})})})}}]),a}(n.Component),$=Object(o.h)(Z),ee=function(){return Object(p.jsx)("div",{className:"container",children:Object(p.jsx)($,{})})};var te=function(){return Object(p.jsx)(l.a,{children:Object(p.jsxs)(o.d,{children:[Object(p.jsx)(o.b,{path:"/ResetPwd",exact:!0,children:Object(p.jsx)(ee,{})}),Object(p.jsx)(o.b,{path:"/login",exact:!0,children:Object(p.jsx)(N,{})}),Object(p.jsx)(o.b,{path:"/AddCity",exact:!0,children:Object(p.jsx)(H,{})}),Object(p.jsx)(o.b,{path:"/AddReview",exact:!0,children:Object(p.jsx)(z,{})}),Object(p.jsx)(o.b,{path:"/EditReview",exact:!0,children:Object(p.jsx)(K,{})}),Object(p.jsx)(o.b,{path:"/Settings",exact:!0,children:Object(p.jsx)(q,{})}),Object(p.jsx)(o.b,{path:"/",exact:!0,children:Object(p.jsx)(D,{})}),Object(p.jsx)(o.a,{to:"/"})]})})};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(te,{})}),document.getElementById("root"))},31:function(e,t,a){}},[[238,1,2]]]);
//# sourceMappingURL=main.d3832466.chunk.js.map