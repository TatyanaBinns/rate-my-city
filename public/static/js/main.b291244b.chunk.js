(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{128:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(71),s=a.n(o),c=(a(128),a(99),a(44)),r=a(14),i=(a(60),a(26)),u=a.n(i),d=a(39),b=a(5),m=a(40),p=a.n(m),j=a(1);var h=function(){var e=Object(r.g)(),t=n.a.useState(!1),a=Object(b.a)(t,2),o=a[0],s=a[1],c="",i="",m="",h="",f="",g="",x=Object(l.useState)(""),O=Object(b.a)(x,2),N=O[0],v=O[1],y=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,l,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={email:m.value,password:f.value},l=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/login",headers:{"Content-Type":"application/json"},data:l},p()(n).then((function(e){var t=e.data;t.error?v(t.error):w(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,l,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={firstName:c.value,lastName:i.value,userName:h.value,email:m.value,password:f.value,confirmpassword:g.value},l=JSON.stringify(a),n={method:"post",url:"https://rate-my-city.herokuapp.com/api/register",headers:{"Content-Type":"application/json"},data:l},p()(n).then((function(e){var t=e.data;""!==t.error?v(t.error):(t,window.location.reload(!1))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function w(t){localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("userId",t.id),localStorage.setItem("userFirstName",t.firstName),localStorage.setItem("userLastName",t.lastName),localStorage.setItem("userName",t.userName),localStorage.setItem("userPassword",f.value),e.push("/")}return Object(j.jsx)("div",{className:"container-fluid h-custom",children:Object(j.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(j.jsx)("div",{className:"col-md-8 col-lg-6 mt-5 col-xl-4 offset-xl-1",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-group row d-flex justify-content-center ",children:[Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:function(){return s(!1)},children:"Login"})}),Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:function(){return s(!0)},children:"Register"})})]}),Object(j.jsx)("div",{className:"divider d-flex align-items-center my-4 mt-0",children:Object(j.jsx)("p",{className:"text-center fw-bold mx-3 mb-5"})}),o&&Object(j.jsxs)("div",{className:"form-outline mt-4 mb-3",children:[Object(j.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",placeholder:"Enter First Name",ref:function(e){return c=e}}),Object(j.jsx)("label",{className:"form-label",children:"First Name"})]}),o&&Object(j.jsxs)("div",{className:"form-outline mt-4 mb-3",children:[Object(j.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Last Name",ref:function(e){return i=e}}),Object(j.jsx)("label",{className:"form-label",children:"Last Name"})]}),Object(j.jsxs)("div",{className:"form-outline mt-4 mb-3",children:[Object(j.jsx)("input",{type:"email",autoFocus:!0,className:"form-control form-control-lg",placeholder:"Enter a valid email address",ref:function(e){return m=e}}),Object(j.jsx)("label",{className:"form-label",children:"Email Address"})]}),o&&Object(j.jsxs)("div",{className:"form-outline mt-4 mb-3",children:[Object(j.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter User Name",ref:function(e){return h=e}}),Object(j.jsx)("label",{className:"form-label",children:"User Name"})]}),Object(j.jsxs)("div",{className:"form-outline mb-3",children:[Object(j.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Enter password",ref:function(e){return f=e}}),Object(j.jsx)("label",{className:"form-label",children:"Password"})]}),o&&Object(j.jsxs)("div",{className:"form-outline mt-4 mb-3",children:[Object(j.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Confirm password",ref:function(e){return g=e}}),Object(j.jsx)("label",{className:"form-label",children:"Confirm password"})]}),Object(j.jsxs)("div",{className:"form-group row d-flex justify-content-center ",children:[!o&&Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:y,children:"Sign In"})}),o&&Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("button",{type:"button",className:"btn text-white btn-lg fw-bold btn-outline-dark btn-secondary",onClick:S,children:"Sign In"})}),Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("button",{type:"button",className:"btn btn-dark btn-lg form-control",onClick:function(){localStorage.setItem("accessToken",""),localStorage.setItem("userId",""),localStorage.setItem("userFirstName",""),localStorage.setItem("userLastName",""),localStorage.setItem("userName",""),localStorage.setItem("userPassword",""),e.push("/")},children:"Cancel"})}),Object(j.jsx)("div",{className:"divider d-flex align-items-center my-4",children:Object(j.jsx)("p",{className:"text-center fw-bold mx-3 mb-1",children:N})})]})]})})})})},f=function(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)(h,{})})};var g=function(){return Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"},children:Object(j.jsx)("h1",{children:"Rate My City"})})},x=a(169),O=a(118);var N=function(){var e=Object(r.g)(),t="",a="Login / Register",l=!1;""!==localStorage.accessToken&&(t="Welcome: "+localStorage.userFirstName+" "+localStorage.userLastName,l=!0,a="Logout");var o=n.a.useState(l),s=Object(b.a)(o,2),c=s[0];return s[1],Object(j.jsxs)("div",{className:"input-group mt-1 mb-2",children:[c&&Object(j.jsx)("div",{children:Object(j.jsx)(x.a,{className:"input-group-append icon-play",id:"dropdown-basic-button",size:"sm",variant:"Secondary",menuVariant:"secondary",children:Object(j.jsx)(O.a.Item,{href:"#/action-1",onClick:function(){e.push("AddCity")},children:"Add City"})})}),Object(j.jsx)("input",{className:"form-control text-left fw-bold",placeholder:t}),Object(j.jsx)("div",{className:"input-group-append",children:Object(j.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){""===localStorage.accessToken?e.push("/login"):(t="",localStorage.setItem("accessToken",""),localStorage.setItem("userId",""),localStorage.setItem("userFirstName",""),localStorage.setItem("userLastName",""),localStorage.setItem("userName",""),localStorage.setItem("userPassword",""),window.location.reload(!1))},children:a})}),c&&Object(j.jsx)("div",{className:"input-group-append",children:Object(j.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",onClick:function(){e.push("/Settings")},children:"Settings"})})]})},v=a(114),y=a(115),S=a(120),w=a(119),k=a(93),C=[{label:"Alabama",population:4780127,capital:"Montgomery",region:"South"},{label:"Alaska",population:710249,capital:"Juneau",region:"West"},{label:"Arizona",population:6392307,capital:"Phoenix",region:"West"},{label:"Arkansas",population:2915958,capital:"Little Rock",region:"South"},{label:"California",population:37254503,capital:"Sacramento",region:"West"},{label:"Colorado",population:5029324,capital:"Denver",region:"West"},{label:"Connecticut",population:3574118,capital:"Hartford",region:"Northeast"},{label:"Delaware",population:897936,capital:"Dover",region:"South"},{label:"Florida",population:18804623,capital:"Tallahassee",region:"South"},{label:"Georgia",population:9688681,capital:"Atlanta",region:"South"},{label:"Hawaii",population:1360301,capital:"Honolulu",region:"West"},{label:"Idaho",population:1567652,capital:"Boise",region:"West"},{label:"Illinois",population:12831549,capital:"Springfield",region:"Midwest"},{label:"Indiana",population:6484229,capital:"Indianapolis",region:"Midwest"},{label:"Iowa",population:3046869,capital:"Des Moines",region:"Midwest"},{label:"Kansas",population:2853132,capital:"Topeka",region:"Midwest"},{label:"Kentucky",population:4339349,capital:"Frankfort",region:"South"},{label:"Louisiana",population:4533479,capital:"Baton Rouge",region:"South"},{label:"Maine",population:1328361,capital:"Augusta",region:"Northeast"},{label:"Maryland",population:5773785,capital:"Annapolis",region:"South"},{label:"Massachusetts",population:6547817,capital:"Boston",region:"Northeast"},{label:"Michigan",population:9884129,capital:"Lansing",region:"Midwest"},{label:"Minnesota",population:5303925,capital:"Saint Paul",region:"Midwest"},{label:"Mississippi",population:2968103,capital:"Jackson",region:"South"},{label:"Missouri",population:5988927,capital:"Jefferson City",region:"Midwest"},{label:"Montana",population:989417,capital:"Alberta",region:"West"},{label:"Nebraska",population:1826341,capital:"Lincoln",region:"Midwest"},{label:"Nevada",population:2700691,capital:"Carson City",region:"West"},{label:"New Hampshire",population:1316466,capital:"Concord",region:"Northeast"},{label:"New Jersey",population:8791936,capital:"Trenton",region:"Northeast"},{label:"New Mexico",population:2059192,capital:"Santa Fe",region:"West"},{label:"New York",population:19378087,capital:"Albany",region:"Northeast"},{label:"North Carolina",population:9535692,capital:"Raleigh",region:"South"},{label:"North Dakota",population:672591,capital:"Bismarck",region:"Midwest"},{label:"Ohio",population:11536725,capital:"Columbus",region:"Midwest"},{label:"Oklahoma",population:3751616,capital:"Oklahoma City",region:"South"},{label:"Oregon",population:3831073,capital:"Salem",region:"West"},{label:"Pennsylvania",population:12702887,capital:"Harrisburg",region:"Northeast"},{label:"Rhode Island",population:1052931,capital:"Providence",region:"Northeast"},{label:"South Carolina",population:4625401,capital:"Columbia",region:"South"},{label:"South Dakota",population:814191,capital:"Pierre",region:"Midwest"},{label:"Tennessee",population:6346275,capital:"Nashville",region:"South"},{label:"Texas",population:25146105,capital:"Austin",region:"South"},{label:"Utah",population:2763888,capital:"Salt Lake City",region:"West"},{label:"Vermont",population:625745,capital:"Montpelier",region:"Northeast"},{label:"Virginia",population:8001045,capital:"Richmond",region:"South"},{label:"Washington",population:6724543,capital:"Olympia",region:"West"},{label:"West Virginia",population:1853011,capital:"Charleston",region:"South"},{label:"Wisconsin",population:5687289,capital:"Madison",region:"West"},{label:"Wyoming",population:563767,capital:"Cheyenne",region:"West"}];a(161);function I(e,t){return!!t.selected.length||e.label.toLowerCase().indexOf(t.text.toLowerCase())>-1}var M=function(e){var t=e.isOpen,a=e.onClick;return Object(j.jsx)("button",{className:"toggle-button",onClick:a,onMouseDown:function(e){e.preventDefault()},children:t?"\u25b2":"\u25bc"})},L=function(e){Object(S.a)(a,e);var t=Object(w.a)(a);function a(e){var l;return Object(v.a)(this,a),(l=t.call(this,e)).state={cities:[],users:[]},l}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://rate-my-city.herokuapp.com/listCities").then((function(t){t.data.length>0&&e.setState({cities:t.data.map((function(e){return{label:e.name}}))})})).catch((function(e){console.log(e)})),p.a.get("https://rate-my-city.herokuapp.com/listUsers").then((function(t){t.data.length>0&&e.setState({users:t.data.map((function(e){return{label:e.userName}}))})})).catch((function(e){console.log(e)}))}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({cityName:"",userName:""})}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"input-group d-flex justify-content-center",children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(k.a,{filterBy:I,options:this.state.cities,placeholder:"Search by City ...",children:function(e){var t=e.isMenuShown,a=e.toggleMenu;return Object(j.jsx)(M,{isOpen:t,onClick:function(e){return a()}})}})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(k.a,{filterBy:I,options:C,placeholder:"Search by state ...",children:function(e){var t=e.isMenuShown,a=e.toggleMenu;return Object(j.jsx)(M,{isOpen:t,onClick:function(e){return a()}})}})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)(k.a,{filterBy:I,options:this.state.cities,placeholder:"Search by User ...",children:function(e){var t=e.isMenuShown,a=e.toggleMenu;return Object(j.jsx)(M,{isOpen:t,onClick:function(e){return a()}})}})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"btn text-white fw-bold btn-outline-dark btn-secondary",children:"Search"})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"\xa0"}),Object(j.jsx)("p",{children:"\xa0"}),Object(j.jsx)("p",{children:"\xa0"}),Object(j.jsx)("p",{children:"\xa0"}),Object(j.jsx)("p",{children:"\xa0"})]})]})}}]),a}(l.Component);var P=function(){return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(N,{}),Object(j.jsx)(g,{}),Object(j.jsx)(L,{})]})};var T=function(){var e=Object(r.g)(),t="",a="";return Object(j.jsx)("div",{className:"container-fluid h-custom",children:Object(j.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(j.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(j.jsxs)("form",{children:[Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"},children:Object(j.jsx)("h1",{children:"Add City"})}),Object(j.jsx)("div",{className:"divider d-flex align-items-center my-4",children:Object(j.jsx)("p",{className:"text-center fw-bold mx-3 mb-5"})}),Object(j.jsxs)("div",{className:"form-outline mt-4 mb-4",children:[Object(j.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Only enter US city. Ex: Orlando",onChange:function(e){t=e.target.value}}),Object(j.jsx)("label",{className:"form-label",children:"Enter City"})]}),Object(j.jsxs)("div",{className:"form-outline mb-3",children:[Object(j.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Only enter US state. Ex: Florida",onChange:function(e){a=e.target.value}}),Object(j.jsx)("label",{className:"form-label",children:"Enter State"})]}),Object(j.jsxs)("div",{className:"form-group row d-flex justify-content-center ",children:[Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg form-control",onClick:function(){localStorage.setItem("CityAndState",t+" "+a),e.push("/")},children:"Add"})}),Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("button",{type:"button",className:"btn btn-dark btn-lg form-control",onClick:function(){e.push("/")},children:"Cancel"})}),Object(j.jsx)("div",{className:"divider d-flex align-items-center my-4",children:Object(j.jsx)("p",{className:"text-center fw-bold mx-3 mb-5"})})]})]})})})})},W=function(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)(T,{})})};var A=function(){var e=Object(r.g)(),t=Object(l.useState)(""),a=Object(b.a)(t,2),n=(a[0],a[1]),o=Object(l.useState)(localStorage.userFirstName),s=Object(b.a)(o,2),c=s[0],i=s[1],m=Object(l.useState)(localStorage.userLastName),h=Object(b.a)(m,2),f=h[0],g=h[1],x=Object(l.useState)(localStorage.userName),O=Object(b.a)(x,2),N=O[0],v=O[1],y=Object(l.useState)(localStorage.userPassword),S=Object(b.a)(y,2),w=S[0],k=S[1],C=Object(l.useState)(localStorage.userPassword),I=Object(b.a)(C,2),M=I[0],L=I[1],P=Object(l.useState)(localStorage.userPassword),T=Object(b.a)(P,2),W=T[0],A=T[1],F=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={userId:localStorage.userId,firstName:c,lastName:f,userName:N,oldPassword:w,password:M,confirmpassword:W,jwtToken:localStorage.accessToken},l=JSON.stringify(a),o={method:"post",url:"https://rate-my-city.herokuapp.com/api/settings",headers:{"Content-Type":"application/json"},data:l},p()(o).then((function(e){var t=e.data;""!==t.error?n(t.error):E(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function E(t){localStorage.setItem("accessToken",t.jwtToken.accessToken),localStorage.setItem("userId",t.id),localStorage.setItem("userFirstName",t.firstName),localStorage.setItem("userLastName",t.lastName),localStorage.setItem("userName",t.userName),localStorage.setItem("userPassword",M.value),e.push("/")}return Object(j.jsx)("div",{className:"container-fluid h-custom",children:Object(j.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:Object(j.jsx)("div",{className:"col-md-8 col-lg-6 col-xl-4 offset-xl-1",children:Object(j.jsxs)("form",{children:[Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"8vh"},children:Object(j.jsx)("h1",{children:"Settings"})}),Object(j.jsxs)("div",{className:"form-outline mt-4 mb-2",children:[Object(j.jsx)("input",{type:"text",autoFocus:!0,className:"form-control form-control-lg",value:c,onChange:function(e){i(e.target.value)},placeholder:"Enter First Name"}),Object(j.jsx)("label",{className:"form-label",children:"First Name"})]}),Object(j.jsxs)("div",{className:"form-outline mb-2",children:[Object(j.jsx)("input",{type:"text",className:"form-control form-control-lg",value:f,onChange:function(e){g(e.target.value)},placeholder:"Enter Last Name"}),Object(j.jsx)("label",{className:"form-label",children:"Last Name"})]}),Object(j.jsxs)("div",{className:"form-outline mb-2",children:[Object(j.jsx)("input",{type:"text",className:"form-control form-control-lg",value:N,onChange:function(e){v(e.target.value)},placeholder:"Enter User Name"}),Object(j.jsx)("label",{className:"form-label",children:"Username"})]}),Object(j.jsxs)("div",{className:"form-outline mb-2",children:[Object(j.jsx)("input",{type:"password",className:"form-control form-control-lg",value:w,onChange:function(e){k(e.target.value)},placeholder:"Enter Old Password"}),Object(j.jsx)("label",{className:"form-label",children:"Old Password"})]}),Object(j.jsxs)("div",{className:"form-outline mb-2",children:[Object(j.jsx)("input",{type:"password",className:"form-control form-control-lg",value:M,onChange:function(e){L(e.target.value)},placeholder:"Enter New Password"}),Object(j.jsx)("label",{className:"form-label",children:"New Password"})]}),Object(j.jsxs)("div",{className:"form-outline mb-3",children:[Object(j.jsx)("input",{type:"password",className:"form-control form-control-lg",value:W,onChange:function(e){A(e.target.value)},placeholder:"Confirm password"}),Object(j.jsx)("label",{className:"form-label",children:"Confirm Password"})]}),Object(j.jsxs)("div",{className:"form-group row d-flex justify-content-center ",children:[Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg form-control",onClick:F,children:"Update"})}),Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("button",{type:"button",className:"btn btn-dark btn-lg form-control",onClick:function(){e.push("/")},children:"Cancel"})}),Object(j.jsx)("div",{className:"divider d-flex align-items-center my-4",children:Object(j.jsx)("p",{className:"text-center fw-bold mx-3 mb-1"})})]})]})})})})},F=function(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)(A,{})})};var E=function(){return Object(j.jsx)(c.a,{children:Object(j.jsxs)(r.d,{children:[Object(j.jsx)(r.b,{path:"/",exact:!0,children:Object(j.jsx)(P,{})}),Object(j.jsx)(r.b,{path:"/login",exact:!0,children:Object(j.jsx)(f,{})}),Object(j.jsx)(r.b,{path:"/AddCity",exact:!0,children:Object(j.jsx)(W,{})}),Object(j.jsx)(r.b,{path:"/Settings",exact:!0,children:Object(j.jsx)(F,{})}),Object(j.jsx)(r.a,{to:"/"})]})})};s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root"))},60:function(e,t,a){}},[[162,1,2]]]);
//# sourceMappingURL=main.b291244b.chunk.js.map